<!DOCTYPE html><html lang="en" ><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Jekyll v4.0.0" /><meta property="og:title" content="Gimhae Fire Prediction Competition" /><meta property="og:locale" content="en_US" /><meta name="description" content="please go to below link for code and detail explain. Code and data available. go to repository" /><meta property="og:description" content="please go to below link for code and detail explain. Code and data available. go to repository" /><link rel="canonical" href="http://0.0.0.0:4001/2019/12/01/gimhae-fire-prediction-competition" /><meta property="og:url" content="http://0.0.0.0:4001/2019/12/01/gimhae-fire-prediction-competition" /><meta property="og:site_name" content="Sidey" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-12-01T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Gimhae Fire Prediction Competition" /><meta name="twitter:site" content="@" /> <script type="application/ld+json"> {"@type":"BlogPosting","headline":"Gimhae Fire Prediction Competition","url":"http://0.0.0.0:4001/2019/12/01/gimhae-fire-prediction-competition","dateModified":"2019-12-01T00:00:00+09:00","datePublished":"2019-12-01T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4001/2019/12/01/gimhae-fire-prediction-competition"},"description":"please go to below link for code and detail explain. Code and data available. go to repository","@context":"https://schema.org"}</script><title> Gimhae Fire Prediction Competition - Sidey</title><link rel="shortcut icon" href="/favicon.png"><link rel="alternate" type="application/atom+xml" title="Sidey" href="/atom.xml"><link rel="alternate" type="application/json" title="Sidey" href="http://0.0.0.0:4001/feed.json" /><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /><style> *,:after,:before{box-sizing:border-box;background-color:inherit;color:inherit;margin:0;padding:0}body{font-family:system-ui, sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;line-height:1.5;font-size:1rem;color:#16171a}nav ul{border-right:1px solid #edf2f7}a{color:#000;text-decoration-skip-ink:auto;text-decoration:underline}pre{margin:.5rem 0;padding:.5rem}.post p{margin:.5rem 0}.post h1,.post h2,.post h3,.post h4{margin:1rem 0}.post h2:first-child,.project h2:first-child,.photo h2:first-child{margin-top:0}.meta{margin:2rem 0}code,pre{background:#ecedee}code{padding:.1rem}pre code{border:none}pre{padding:1rem;overflow-x:auto}img{max-width:100%}hr{background:#000;height:1px;border:0}header{flex-basis:10rem;flex-grow:1;position:relative}header a{text-decoration:none}header li{margin-bottom:.2rem;text-align:right;margin-right:2rem}header a.active{font-weight:bold}header,section{padding:1rem}blockquote{font-style:italic;border-left:5px solid #ececec;padding-left:1rem}h1,h2,h3,h4,h5{line-height:1;margin:1rem 0;font-weight:600}section h1:first-child{margin-top:0}strong,b{font-weight:bold}.photos ul{list-style:none}.photos li{margin-bottom:1.5rem}.photo picture,.project picture{margin-bottom:0.5rem}.posts ul,header ul{list-style:none}.posts li{align-items:center;display:flex;justify-content:space-between;margin-bottom:.5rem}.posts li a,.posts li div,.projects li a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.posts li time,.projects li time{padding-left:1rem;white-space:nowrap;font-variant-numeric:tabular-nums}main{display:flex;flex-wrap:wrap;max-width:60rem;margin:2rem auto;padding:1rem}@media screen and (max-width: 45rem){header li{display:inline;margin-right:1rem}.logo{padding-bottom:1rem}header ul{border-bottom:1px solid #edf2f7;padding-bottom:2rem}nav ul{border-right:0px}.photos ul{margin-top:0.5rem}}section{flex-basis:0;flex-grow:999;min-width:70%;display:flex;flex-direction:column}figcaption{font-size:smaller}@media print{.no-print,.no-print *{display:none !important}}</style></head><body><main><header aria-hidden="true" class="no-print"> <!--<h1 class="logo">Sidey</h1>--><nav role="navigation" aria-hidden="true"><ul><li><a href="/" >Writing</a></li><li><a href="/about" >About</a></li><li><a href="/search" >Search</a></li><li><a href="/atom.xml" >Rss</a></li></ul></nav></header><section class="post"><h2>Gimhae Fire Prediction Competition</h2><p>please go to below link for code and detail explain. Code and data available. <a href="[/assets/2020/01_23/canberra.png](https://github.com/jaewoo-so/gimhae_fire_prediction)">go to repository</a></p><h1 id="01-eda-and-basic-feature-engineering">01 EDA and Basic Feature engineering</h1><hr /><p><a href="https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/01_EDA_Missing_Value_Basic_Processing.ipynb">see jupyter notebook : 01 EDA and Basic Feature engineering </a></p><ul><li>Basic feature preprocessing using EDA and domain knowledge</li></ul><p>First, you need to check whether the data treated as NaN are missing or sparse. Then, the type of data is checked, and pre-processing and feature engineering are performed accordingly.</p><p>Find answers to the questions below here. <br /> A. Missing or Sparse? <br /> B. What type of Missing or Sparse? <br /> C. If values type is missing, is there any meaning of missing?</p><h1 id="02-experimental-feature-engineering">02 Experimental Feature engineering</h1><p><a href="https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/01_EDA_Missing_Value_Basic_Processing.ipynb">see jupyter notebook : 02 Experimental Feature engineering </a></p><ul><li>Feature engineering based on Cross Validation score and Test score.</li></ul><h2 id="base-on-cross-validation-score">Base on Cross Validation Score</h2><h3 id="01-convert-missing-value-to-min-value--강수량-prcpttn-">01 convert missing value to min value : 강수량 prcpttn ()</h3><ul><li>In the feature of precipitation, NaN is judged to be unmeasurable because there is no precipitation. change to minimum value 0</li></ul><h3 id="02-fill-features-of-categorical-and-binary-type-with-the-most-frequent-values">02 Fill features of categorical and binary type with the most frequent values</h3><ul><li>Due to the time relationship, the imputation model is not trained separately, and is processed as the most frequent value</li></ul><h3 id="03-numeric-type-feature-missing-value-handling">03 Numeric type feature missing value handling</h3><ul><li>Processing based on domain knowledge</li></ul><p><strong>to zero</strong> ttl_grnd_flr : Sum of above-ground floors of buildings <br /> ttl_dwn_fr : Sum of basement floors of buildings</p><p><strong>fill with mean value</strong> Since the following features have a low null_ratio, better results can be obtained by imputation by creating k-mean or a separate prediction model. <br /> As a matter of time, after imputation as an average, trials of other methods were followed.</p><p>tmprtr : temperature (c) wnd_spd : wind speed wnd_drctn : wind direction hmdt : humidity hm_cnt : Administrative district Population bldng_ar : Building area fr_mn_cnt : Personnel of the fire department in charge</p><h3 id="04-target-encoding-with-smoothing">04 Target encoding with smoothing</h3><ul><li>Experimentation with valid encoding methods<ol><li>target encoding</li><li>target encoding + smoothing</li><li>target encoding + noise (0.1)</li><li>target encoding + noise (0.4)</li><li>target encoding + smoothing + noise (0.1)</li><li>target encoding + smoothing + noise (0.4)</li></ol></li></ul><h3 id="05-electrocity-and-gas-usage">05 Electrocity and Gas usage</h3><ul><li>When looking at the data distribution, there are samples with no usage.</li><li>Assuming that this would be an empty house or an unmanaged building, I created the feature as shown below.</li><li>In the case of a building without electricity, it is assumed that the risk of fire will be high due to lack of management.</li><li>Fire has nothing to do with usage, so it is expressed in binary</li></ul><p>ele_engry_us : Electricity usage for a specific period <br /> gas_engry_us : Gas usage for a specific period</p><p>1 -&gt; A house that is being used or inhabited <br /> 0 -&gt; A building that is obsolete.</p><p>In 01_EDA_Missing_Value.ipynb, check that min value = 0 of electricity and gas consumption data.</p><h3 id="fr_mn_cnt-number-of-fire-department-personnel">fr_mn_cnt: Number of fire department personnel</h3><p>The number of fire department personnel in the jurisdiction is limited to a set <br /> Assume that fire department personnel are assigned according to the size of the area and the frequency of fire occurrence. <br /> Set Binary to 1 if more than 100, 0 if less than 100</p><h2 id="based-on-test-score">Based on test score</h2><h3 id="multiple-encoding-tests">Multiple encoding tests</h3><p><a href="https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_exp/sojaewoo/data_1111_version/code_v07/001_1_encoding_evaluation_lgb.ipynb">see jupyter notebook : experiment result Lightgbm</a> <br /> <a href="https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_exp/sojaewoo/data_1111_version/code_v07/001_1_encoding_evaluation_xgb.ipynb">see jupyter notebook : experiment result Xgboost</a></p><h3 id="wnd_drctn-008-score-up">wnd_drctn (0.08 score up)</h3><p align="center"> <img src="https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/resource_data/wind.png" /></p><ul><li>Assuming that the wind direction is different for each season, there is a possibility of fire depending on the direction of the season</li><li>Data categorization into 4 types according to wind direction</li><li>Apply binning to wind direction (wnd_drctn)</li></ul><h2 id="bin_hour--created-feature-003-score-up">bin_hour : created feature (0.03 score up)</h2><p align="center"> <img src="https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/resource_data/fire.png" /></p><ul><li>Assume that it will be difficult to report a fire at dawn.</li><li>As a result of the check, according to the statistics of Seoul, there is a difference in the occurrence of fires according to time zones.</li><li>Similarly, Gimhae Fire &amp; Marine Insurance determined that there was a difference in the frequency of fire occurrence by time period, and categorized data by time period.</li></ul><h1 id="03-data-distribution-control">03 Data distribution control</h1><ul><li>Check the distribution of Train / Validation / Test data. Control the distribution similarly to the actual test data to be used.</li><li><p>What is unusual about this competition is that validation data was given. Therefore, it was assumed that at least the validation data would have a similar distribution to the test data, but the difference and correlation between the CV score and the LB score could not be derived, so the work was performed assuming that the distribution would be different.</p></li><li>Adverserial validation 및 UMAP dimension reduction visualization 으로 확인<ul><li><a href="https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/etc_experiment/adverserial_validation/#01_adverserial_test_v11.ipynb">see jupyter notebook : Adverserial Validation</a></li><li><a href="https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/etc_experiment/umap_dimentional_reduction/01_datav04_Apply_umap_test.ipynb">see jupyter notebook : UMAP dimension reduction visualization</a></li></ul></li></ul><h1 id="04-sampling">04 Sampling</h1><ul><li>The following sampling strategies were used to control for differences in data distribution.</li></ul><h2 id="1-a-dimensionally-reduced-low-dimensional-vector-that-samples-only-samples-that-are-close-to-the-test-sample">1. A dimensionally reduced, low-dimensional vector that samples only samples that are close to the test sample.</h2><p align="center"> <img src="https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/resource_data/euclidian.png" /></p><p>euclidean distance</p><p>The black dot is the test data. Model training proceeds by removing samples that are far from the black point distance and sampling only samples that are close to the black point. The criterion of closeness was experimentally determined.</p><h2 id="2-picking-with-predicted-probabilities">2. Picking with Predicted Probabilities</h2><ul><li>Create a train or not, validation or not, test or not classification model and extract train and validation samples that are indistinguishable from test.</li></ul><p align="center"> <img src="https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/resource_data/te.png" /></p><p>Probability distribution of predicted values for test data or not. <br /> Even though it is test data, there are also samples that are not test data. At this time, select training and validation samples that are predicted with a similar probability to the test data. (mainly between 0.05 and 0.15) <br /> Conversely, samples predicted as test data are also selected even though they are not test data. (mainly between 0.8 and 1.0)</p><span class="meta"><time datetime="2019-12-01T00:00:00+09:00">December 1, 2019</time> &middot; <a href="/tag/competitions">competitions</a></span></section></main></body></html>
