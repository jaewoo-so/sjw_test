{
    "version": "https://jsonfeed.org/version/1",
    "title": "Sidey",
    "home_page_url": "http://0.0.0.0:4001/",
    "feed_url": "http://0.0.0.0:4001/feed.json",
    "description": "Simple and minimalistic jekyll blogging theme.",
    "icon": "http://0.0.0.0:4001/apple-touch-icon.png",
    "favicon": "http://0.0.0.0:4001/favicon.ico",
    "expired": false,
    
    "author": "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}",
    
"items": [
    
        {
            "id": "http://0.0.0.0:4001/2023/01/01/tax-optimized-asset-management",
            "title": "",
            "summary": null,
            "content_text": "  일반적인 포트폴리오를 통해 자산관리 및 수익을 얻으려고 할때, 종목의 수익률을 최대화 하려고 한다.      하지만 금융 상품에 대해서 손익통산 및 이월공제가 가능하다면, 보유 포트폴리오 종목의 주가하락에 따른 손실을 기회로 포착하여 Loss를 실현함으로써  절세효과를 극대화하는 전략이 사용 가능해진다.이를 Tax-loss harvesting(TLH)라고 부르고, 포트폴리오 수익률 증대전략이 아닌 절세효과로 인해 알파수익을 추구하는 전략이다.    TLH는 취득원가 미만으로 떨어진 주식을 매도하여 손실을 확정하고 이익실현 가능한 주식 을 동시에 매도하여  납부세금을 절약하는 매매전략 (loss,gain 상쇄)본 프로젝트는 주식 및 ETF의 포트폴리오샘플 알고리즘기술적 분석  PPO  LSTM  Deep Q-Learning강화학습의 리턴은 다음과 같이 설계하였다.\\[return = 10\\]Supervised learning loss design@@ loss 디자인Reinforcement Learning Return designstate action reward@@ loss 디자인위와 같은 결과가 있지만, 실제 서비스에 적용하기는 어렵다는 결론을 내렸다. 그 이유는 사용자 입장에서 Black box 모델의 시뮬레이션 결과를 근거로 모델에 기반한 투자를 선택하기 쉽지 않기 때문이다.  따라서 매우 단순한 loss-cut 전략의 파라미터를 최적화 하는데 ML모델을 사용해 보았다.먼저 다음의 전제들을 가정했다.  주식 트랜드나 가격 예측은 불가능하다.  주식 트랜드나 가격 예측은 어느정도는 가능하다.1번의 경우 ML모델로 특정 패턴에 최적화된 loss-cut 파라미터를 찾아낼 수 가 없다. 따라서 랜덤 확률 프로세스를 사용하여,2번의 경우는 reward#설계 근거## Why design $\\text{Action Space} = { Buy,Sell }$?일반적인 트레이딩이 아닌, tax 최적화를 위해, 이익실현 연기, 손해 확정 등의 액션도 가능하다. 하지만 간단하게 하기 위해 임의로  action space를 단순화 시켰다.Why only single asset?각 주가의 트랜드에 맞게 따라서 최적의 전략을 추천해주는 상위 모델이 따로 있다. 따라서 본 프로젝트에서는 많이 보이는 패턴의 종목에 최적화된 모델을 만드는 것이 우선적인 목표이다. 그리고 종목에 최적화된 모델이 완성 되면, 각 모델의 output을 reward로 하는 종목 추천 모델 훈련에 사용한다.#TLH 평가 방법\\(Value_{TLH} = min(G,L)(\\tau_{t_1} - \\tau_{t_2} + )\\)#Conclusion기존 기술적 분석 기반의 방법론들은 높은 수익률 생기는 주가의 패턴이 확실했다.Machine Learning의 학습 기반 모델의 경우는 많은 주가 패턴 및 트랜드에서 기술적 분석 기반의 방법론들 보다는 수익률의 편차가 작았다.@@ 상승, 박스, 하락 각각의 경우에 대한 기술적 분석 기반 방법 vs RL기반 , LSTM 기반 넣기특히 Deep Learning 기반의 경우는 전처리가 중요하게 보인다.@@ 스무딩 전 후 차이 예시2. RL 기반2. Return 모델링3. 시뮬레이션 결과3. RNN 기반4. FLSTM  전통적인 방법 vs RL  종목에 따른 최적 방법론이 다르다.  종목 구성 후  확률 과정 vs ML Base          Shift      ** 어떻게 no-free lnuch",
            "content_html": "<ul>  <li>일반적인 포트폴리오를 통해 자산관리 및 수익을 얻으려고 할때, 종목의 수익률을 최대화 하려고 한다.</li>  <li>    <p>하지만 금융 상품에 대해서 손익통산 및 이월공제가 가능하다면, 보유 포트폴리오 종목의 주가하락에 따른 손실을 기회로 포착하여 Loss를 실현함으로써  절세효과를 극대화하는 전략이 사용 가능해진다.<br />이를 Tax-loss harvesting(TLH)라고 부르고, 포트폴리오 수익률 증대전략이 아닌 절세효과로 인해 알파수익을 추구하는 전략이다.</p>  </li>  <li>TLH는 취득원가 미만으로 떨어진 주식을 매도하여 손실을 확정하고 이익실현 가능한 주식 을 동시에 매도하여  납부세금을 절약하는 매매전략 (loss,gain 상쇄)</li></ul><p>본 프로젝트는 주식 및 ETF의 포트폴리오</p><p>샘플 알고리즘</p><p>기술적 분석</p><ul>  <li>PPO</li>  <li>LSTM</li>  <li>Deep Q-Learning</li></ul><p>강화학습의 리턴은 다음과 같이 설계하였다.</p>\\[return = 10\\]<p>Supervised learning loss design</p><p>@@ loss 디자인</p><p>Reinforcement Learning Return design</p><p>state action reward</p><p>@@ loss 디자인</p><p>위와 같은 결과가 있지만, 실제 서비스에 적용하기는 어렵다는 결론을 내렸다. 그 이유는 사용자 입장에서 Black box 모델의 시뮬레이션 결과를 근거로 모델에 기반한 투자를 선택하기 쉽지 않기 때문이다.  따라서 매우 단순한 loss-cut 전략의 파라미터를 최적화 하는데 ML모델을 사용해 보았다.</p><p>먼저 다음의 전제들을 가정했다.</p><ol>  <li>주식 트랜드나 가격 예측은 불가능하다.</li>  <li>주식 트랜드나 가격 예측은 어느정도는 가능하다.</li></ol><p>1번의 경우 ML모델로 특정 패턴에 최적화된 loss-cut 파라미터를 찾아낼 수 가 없다. 따라서 랜덤 확률 프로세스를 사용하여,</p><p>2번의 경우는 reward</p><h2 id=\"설계-근거\">#설계 근거</h2><p>## Why design $\\text{Action Space} = { Buy,Sell }$?</p><p>일반적인 트레이딩이 아닌, tax 최적화를 위해, 이익실현 연기, 손해 확정 등의 액션도 가능하다. 하지만 간단하게 하기 위해 임의로  action space를 단순화 시켰다.</p><h2 id=\"why-only-single-asset\">Why only single asset?</h2><p>각 주가의 트랜드에 맞게 따라서 최적의 전략을 추천해주는 상위 모델이 따로 있다. 따라서 본 프로젝트에서는 많이 보이는 패턴의 종목에 최적화된 모델을 만드는 것이 우선적인 목표이다. 그리고 종목에 최적화된 모델이 완성 되면, 각 모델의 output을 reward로 하는 종목 추천 모델 훈련에 사용한다.</p><h2 id=\"tlh-평가-방법\">#TLH 평가 방법</h2><p>\\(Value_{TLH} = min(G,L)(\\tau_{t_1} - \\tau_{t_2} + )\\)</p><h2 id=\"conclusion\">#Conclusion</h2><p>기존 기술적 분석 기반의 방법론들은 높은 수익률 생기는 주가의 패턴이 확실했다.</p><p>Machine Learning의 학습 기반 모델의 경우는 많은 주가 패턴 및 트랜드에서 기술적 분석 기반의 방법론들 보다는 수익률의 편차가 작았다.</p><p>@@ 상승, 박스, 하락 각각의 경우에 대한 기술적 분석 기반 방법 vs RL기반 , LSTM 기반 넣기</p><p>특히 Deep Learning 기반의 경우는 전처리가 중요하게 보인다.</p><p>@@ 스무딩 전 후 차이 예시</p><h1 id=\"2-rl-기반\">2. RL 기반</h1><hr /><h2 id=\"2-return-모델링\">2. Return 모델링</h2><h2 id=\"3-시뮬레이션-결과\">3. 시뮬레이션 결과</h2><h2 id=\"3-rnn-기반\">3. RNN 기반</h2><hr /><h2 id=\"4-f\">4. F</h2><p>LSTM</p><ul>  <li>전통적인 방법 vs RL</li>  <li>종목에 따른 최적 방법론이 다르다.</li>  <li>종목 구성 후</li>  <li>확률 과정 vs ML Base    <ul>      <li>Shift</li>    </ul>  </li></ul><p>** 어떻게 no-free lnuch</p>",
            "url": "http://0.0.0.0:4001/2023/01/01/tax-optimized-asset-management",
            
            
            
            
            
            "date_published": "2023-01-01T00:00:00+09:00",
            "date_modified": "2023-01-01T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2023/01/01/pro",
            "title": "ESG Media Topic Classification",
            "summary": null,
            "content_text": "KESG Media Portal Site  목적  문제점 리스트 2.1 모델 개발2.2 실제 사용",
            "content_html": "<p><a href=\"\">KESG Media Portal Site</a></p><ol>  <li>목적</li>  <li>문제점 리스트 2.1 모델 개발</li></ol><h2 id=\"22-실제-사용\">2.2 실제 사용</h2><p><img src=\"/assets/2020/01_23/canberra.png\" alt=\"adasdasdasd\" /></p>",
            "url": "http://0.0.0.0:4001/2023/01/01/pro",
            
            
            
            
            
            "date_published": "2023-01-01T00:00:00+09:00",
            "date_modified": "2023-01-01T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2023/01/01/esg-media-topic-classification-kr",
            "title": "ESG Media Topic Classification",
            "summary": null,
            "content_text": "Model is applied in below site for classification esg news issue and target company  KESG Media Portal Sitecontents  베이스 모델          클래스별 shap      특정 클래스 문제        모델 앙상블          모델 구성        모델 심화          클러스터링 : constrative 전후 비교            Part1 : Optimize topic class structure by ML model  문제          최종적으로 뉴스 분류 업무의 자동화가 목적이다.      의미론 관점에서의 분류 체계와 모델의 피쳐스페이스 관점에서의 분류 체계      기존에는 사람의 기준에서 뉴스 토픽의 기준을 만들었다.      하지만 피쳐 스페이스에서 정확히 분류되기 힘든 클래스들이 관측되었다.      이러한 클래스를 발견하고 클래스 분류 체계의 개선을 제안      2. 긍정/부정 모델긍부정 분류 모델의 경우 TF-IDF 기반의 피쳐, BERT 임베딩 벡터를 + Auto Encoder로 압축한 2000 차원의 피쳐를 Tree 계열 모델(Random Forest, LightGBM)에 실험했다. BERT기반의 성능이 더 좋았고, 결과는 아래와 같다.3. Base Model  먼저, Multiclass-classification 모델을 만들었다.  베이스모델은 TF-IDF 기반으로 만들었다. : (document frequency ignore 기준 Threshold 0.7 ~ 0.99 를 테스트, 대부분의 주요 단어가 누락되지 않는Threhold를 찾았다.)  적은 수의 클래스는 제외했다. 빨간 박스클래스 분포모델 성능Prediction Result Pattern베이스 모델의 결과 데이터의 클래스는 4가지로 특성이 관측되었다.  샘플 수 많음 , 정확도 높음  샘플 수 많음 , 정확도 낮음  샘플 수 적음 , 정확도 높음  샘플 수 적음 , 정확도 낮음베이스 모델의 precision/recall의 관찰로  샘플수에 비례하여 precision/recall가 높지 않은 메이저 클래스가 관찰된다. -&gt; 분석 필요  마이너 클래스 중에 특히나 precision/recall가 높은 클래스가 있다. -&gt; 피쳐 스페이스상 Small cluster preservation이 잘 되어 있는 클래스로 보인다.4. Ensemble Model4.1 Class Imablance Measuremulti-majority multi-minority 확인을 위해서 imbalnace ratio, Imbalance-degree을 살펴보았다.  모델의 훈련 데이터 세트를 imbalnace의 정도에 따라서 컨트롤한다.먼저 multi-class 이기 때문에 imbalance ratio이 아닌 imbalance degree 측정해보았다. imbalance degree 측정을 위해 훈련 데이터의 class 비율을 class distribution이라고 가정했다. 그리고 distance metric으로 euclidian distance를 사용했다.Data info  k = 28 (num of class)  total sample size = about 100000Class imbalance degree|include ‘etc’ class | exclude ‘etc’ class||—|—||22.64|18.36|명확한 imbalanced 문제이다. 그리고 클래스 샘플 수에 따라 multi-class classification problem $\\eta_{k}$ 은 “ multi-minority imbalance”로 분류 할 수 있다.\\[\\eta_{k} \\text{ is multi-minority} \\iff \\sum^{K} \\mathbb{1}\\left(\\eta_{i} &lt; \\frac{1}{K} \\right) &gt; \\frac{K}{2}\\]4.2 Deal with imbalnceimbalance 문제를 다루기 위한 방법 중 Cost-sensitive Learning, Ensemble Methods를 사용하였다. Sampling 및 data Augmentation 기법을 사용하지 않은 이유는 다음과 같다.Why not use “Sampling” and “Data Augmentation” for ?  Oversampling, Undersampling : majority class에서는 심한 노이즈 또는 레이블링 오차등의 퀄리티 이슈가 보이는 클래스, minority class에서는 feature space 상 cluster preservation이 잘 되어있는 것으로 보이는 클래스 들이 존재한다. 따라서 샘플링 방식이 모든 클래스에 동등한 효과를 보이기를 기대하기 어렵다.  Data Augmentation :          ESG관련 내용에 대한 semantic meaning 연구가 없다.      GPT-3나 BERT같은 언어모델로 생성하는 방법이 있으나, ESG관련 부정적 기업의 이슈는 사실에 기반한 사건이므로 생성된 데이터의 오류가 클 가능성이 있다. 추가로 시간에 따른 concept shift가 관찰되기 때문에 오버피팅의 가능성이 크다.      4.2 Ensemble : Model splitmulti-minority5. Catergory modify  각 클래스의 샘플의 오분류에서 편향이 발생하는지 확인을 하였다.  LightGBM + Bert Embedding을 사용했고, class weight 사용 전후를 비교한 결과는 아래와 같다.샘플 수의 많고 적음은 500개를 기준으로 하였다. 샘플 수 많은데 정확도가 낮은 클래스를 샘플링 조사를 해보았다.데이터 자체에 topic이 여러개 인 경우가 많았다. 즉 사람도 정확히 맞추기 힘든 샘플들 이였다. 이는 모델이나 데이터로 해결할 수 없는 문제이기에 클래스 분류 체계를 변경하는 것을 제안했다.아래는 클래스의 분류 체계 변경 후 모델 성능이다.뉴스 재분류 작업은 많은 리소스 투입이 필요한 일이기에 현재의 훈련 데이터셋으로 서비스 가능 한 레벨의모델의 평가는 f-beta (beta = 0.5)로 설정 했다. 뉴스 데이터 특성상 중복 뉴스가 나오는 경우가 많아 recall 보다는 precision이 더욱 많도록",
            "content_html": "<p><strong>Model is applied in below site for classification esg news issue and target company</strong></p><ul>  <li><a href=\"http://portal.kresg.co.kr/\">KESG Media Portal Site</a></li></ul><h1 id=\"contents\">contents</h1><ol>  <li>베이스 모델    <ul>      <li>클래스별 shap</li>      <li>특정 클래스 문제</li>    </ul>  </li>  <li>모델 앙상블    <ul>      <li>모델 구성</li>    </ul>  </li>  <li>모델 심화    <ul>      <li>클러스터링 : constrative 전후 비교</li>      <li></li>    </ul>  </li></ol><h1 id=\"part1--optimize-topic-class-structure-by-ml-model\">Part1 : Optimize topic class structure by ML model</h1><hr /><ol>  <li>문제    <ul>      <li>최종적으로 뉴스 분류 업무의 자동화가 목적이다.</li>      <li>의미론 관점에서의 분류 체계와 모델의 피쳐스페이스 관점에서의 분류 체계</li>      <li>기존에는 사람의 기준에서 뉴스 토픽의 기준을 만들었다.</li>      <li>하지만 피쳐 스페이스에서 정확히 분류되기 힘든 클래스들이 관측되었다.</li>      <li>이러한 클래스를 발견하고 클래스 분류 체계의 개선을 제안</li>    </ul>  </li></ol><p><br /></p><h2 id=\"2-긍정부정-모델\">2. 긍정/부정 모델</h2><hr /><p>긍부정 분류 모델의 경우 TF-IDF 기반의 피쳐, BERT 임베딩 벡터를 + Auto Encoder로 압축한 2000 차원의 피쳐를 Tree 계열 모델(Random Forest, LightGBM)에 실험했다. BERT기반의 성능이 더 좋았고, 결과는 아래와 같다.</p><p><img src=\"/assets/esg_media/topic/pn_model_confusion.png\" alt=\"pn_table\" /><img src=\"/assets/esg_media/topic/pn_auc.png\" alt=\"pn_auc\" /></p><p><br /></p><h2 id=\"3-base-model\">3. Base Model</h2><hr /><ul>  <li>먼저, Multiclass-classification 모델을 만들었다.</li>  <li>베이스모델은 TF-IDF 기반으로 만들었다. : (document frequency ignore 기준 Threshold 0.7 ~ 0.99 를 테스트, 대부분의 주요 단어가 누락되지 않는Threhold를 찾았다.)</li>  <li>적은 수의 클래스는 제외했다. 빨간 박스</li></ul><p><br /></p><p><strong>클래스 분포</strong><img src=\"/assets/esg_media/topic/클래스_분포.png\" alt=\"class_dist\" /></p><p><br /></p><p><strong>모델 성능</strong><img src=\"/assets/esg_media/topic/전체모델성능.png\" alt=\"base_model_performance\" /></p><p><br /></p><h3 id=\"prediction-result-pattern\">Prediction Result Pattern</h3><p><br /></p><p>베이스 모델의 결과 데이터의 클래스는 4가지로 특성이 관측되었다.</p><ul>  <li>샘플 수 많음 , 정확도 높음</li>  <li>샘플 수 많음 , 정확도 낮음</li>  <li>샘플 수 적음 , 정확도 높음</li>  <li>샘플 수 적음 , 정확도 낮음</li></ul><p>베이스 모델의 precision/recall의 관찰로</p><ol>  <li>샘플수에 비례하여 precision/recall가 높지 않은 메이저 클래스가 관찰된다. -&gt; 분석 필요</li>  <li>마이너 클래스 중에 특히나 precision/recall가 높은 클래스가 있다. -&gt; 피쳐 스페이스상 Small cluster preservation이 잘 되어 있는 클래스로 보인다.</li></ol><p><br /></p><h2 id=\"4-ensemble-model\">4. Ensemble Model</h2><hr /><h3 id=\"41-class-imablance-measure\">4.1 Class Imablance Measure</h3><p>multi-majority multi-minority 확인을 위해서 imbalnace ratio, Imbalance-degree을 살펴보았다.  모델의 훈련 데이터 세트를 imbalnace의 정도에 따라서 컨트롤한다.</p><p>먼저 multi-class 이기 때문에 imbalance ratio이 아닌 imbalance degree 측정해보았다. imbalance degree 측정을 위해 훈련 데이터의 class 비율을 class distribution이라고 가정했다. 그리고 distance metric으로 euclidian distance를 사용했다.</p><p><br /></p><h3 id=\"data-info\">Data info</h3><ul>  <li>k = 28 (num of class)</li>  <li>total sample size = about 100000</li></ul><p><br /></p><p><strong>Class imbalance degree</strong>|include ‘etc’ class | exclude ‘etc’ class||—|—||22.64|18.36|</p><p><br />명확한 imbalanced 문제이다. 그리고 클래스 샘플 수에 따라 multi-class classification problem $\\eta_{k}$ 은 “ multi-minority imbalance”로 분류 할 수 있다.</p>\\[\\eta_{k} \\text{ is multi-minority} \\iff \\sum^{K} \\mathbb{1}\\left(\\eta_{i} &lt; \\frac{1}{K} \\right) &gt; \\frac{K}{2}\\]<h3 id=\"42-deal-with-imbalnce\">4.2 Deal with imbalnce</h3><p><br /></p><p>imbalance 문제를 다루기 위한 방법 중 Cost-sensitive Learning, Ensemble Methods를 사용하였다. Sampling 및 data Augmentation 기법을 사용하지 않은 이유는 다음과 같다.</p><p><br /></p><p><strong>Why not use “Sampling” and “Data Augmentation” for ?</strong></p><ul>  <li>Oversampling, Undersampling : majority class에서는 심한 노이즈 또는 레이블링 오차등의 퀄리티 이슈가 보이는 클래스, minority class에서는 feature space 상 cluster preservation이 잘 되어있는 것으로 보이는 클래스 들이 존재한다. 따라서 샘플링 방식이 모든 클래스에 동등한 효과를 보이기를 기대하기 어렵다.</li>  <li>Data Augmentation :    <ul>      <li>ESG관련 내용에 대한 semantic meaning 연구가 없다.</li>      <li>GPT-3나 BERT같은 언어모델로 생성하는 방법이 있으나, ESG관련 부정적 기업의 이슈는 사실에 기반한 사건이므로 생성된 데이터의 오류가 클 가능성이 있다. 추가로 시간에 따른 concept shift가 관찰되기 때문에 오버피팅의 가능성이 크다.</li>    </ul>  </li></ul><hr /><h3 id=\"42-ensemble--model-split\">4.2 Ensemble : Model split</h3><p>multi-minority</p><h2 id=\"5-catergory-modify\">5. Catergory modify</h2><ul>  <li>각 클래스의 샘플의 오분류에서 편향이 발생하는지 확인을 하였다.</li>  <li></li></ul><p>LightGBM + Bert Embedding을 사용했고, class weight 사용 전후를 비교한 결과는 아래와 같다.</p><p><img src=\"/assets/esg_media/topic/\" alt=\"\" /></p><hr /><p>샘플 수의 많고 적음은 500개를 기준으로 하였다. 샘플 수 많은데 정확도가 낮은 클래스를 샘플링 조사를 해보았다.</p><p>데이터 자체에 topic이 여러개 인 경우가 많았다. 즉 사람도 정확히 맞추기 힘든 샘플들 이였다. 이는 모델이나 데이터로 해결할 수 없는 문제이기에 클래스 분류 체계를 변경하는 것을 제안했다.</p><p>아래는 클래스의 분류 체계 변경 후 모델 성능이다.</p><p>뉴스 재분류 작업은 많은 리소스 투입이 필요한 일이기에 현재의 훈련 데이터셋으로 서비스 가능 한 레벨의</p><p>모델의 평가는 f-beta (beta = 0.5)로 설정 했다. 뉴스 데이터 특성상 중복 뉴스가 나오는 경우가 많아 recall 보다는 precision이 더욱 많도록</p>",
            "url": "http://0.0.0.0:4001/2023/01/01/esg-media-topic-classification-kr",
            
            
            
            
            
            "date_published": "2023-01-01T00:00:00+09:00",
            "date_modified": "2023-01-01T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2023/01/01/esg-media-ml-service-kr",
            "title": "ESG Media Topic Classification",
            "summary": null,
            "content_text": "KESG Media Portal SiteTutorial : Simple ML Pipeline with Kubernetes + Restful API Service Infra  Kubernetes : Microk8s ( 1 Master + 2 Worker)  Github Action  MicroService Architecture : Flask + Kubernetes  Front : Dash for ProtoType  DataBase : Postgres , mySQL  GPU : RTX 3090 x 2Model  python, dash  pytorch, transformer, tensorflow  BERT (use embedding layer that fine tuned with KLUE dataset) , LightGBM, Mecab, Konlpy, Scikit-learn,1. Why Kubernetes?  샘플이 많은 날 또는 간헐적 네트워크 문제가 발생 시 사람이 매번 모니터링 후 수리를 해야 했다. 따라서 Self-Healing이 가능한 쿠버네티스로 이러한 모니터링 및 수리를 자동화 하여서 인건비를 감소시킴.  추후 대규모 트래픽이 발생 할 수 있어서, Load Balance 기능이 필요했다.  grafana 등의 모니터링 기능을 편리하게 세팅 가능.  1인 개발의 리소스 제한에도 불구하고 많은 유용한 기능을 쉽게 구현이 가능하다.2. Why MicroService Architecture?  추후 서비스 확장을 계획하고 있고, 기능 단위로 분리하여 기존의 기능을 재사용 할 수 있도록 구성했다.3. Why Github Action?  Github Action으로 개발 서버에서 도커 이미지 및 manaifest commit - push 만으로 서비스 서버에서 바로 기능이 적용 될 수 있도록 구성.4. System Design4. Real Service ScreenFront  \\ESG Issue Analysis  \\Target Company Monitoring  \\Target Company News List  \\Data Center",
            "content_html": "<p><a href=\"http://portal.kresg.co.kr/\">KESG Media Portal Site</a><a href=\"\">Tutorial : Simple ML Pipeline with Kubernetes + Restful API </a></p><p>Service Infra</p><ul>  <li>Kubernetes : Microk8s ( 1 Master + 2 Worker)</li>  <li>Github Action</li>  <li>MicroService Architecture : Flask + Kubernetes</li>  <li>Front : Dash for ProtoType</li>  <li>DataBase : Postgres , mySQL</li>  <li>GPU : RTX 3090 x 2</li></ul><p>Model</p><ul>  <li>python, dash</li>  <li>pytorch, transformer, tensorflow</li>  <li>BERT (use embedding layer that fine tuned with KLUE dataset) , LightGBM, Mecab, Konlpy, Scikit-learn,</li></ul><h2 id=\"1-why-kubernetes\">1. Why Kubernetes?</h2><ul>  <li>샘플이 많은 날 또는 간헐적 네트워크 문제가 발생 시 사람이 매번 모니터링 후 수리를 해야 했다. 따라서 Self-Healing이 가능한 쿠버네티스로 이러한 모니터링 및 수리를 자동화 하여서 인건비를 감소시킴.</li>  <li>추후 대규모 트래픽이 발생 할 수 있어서, Load Balance 기능이 필요했다.</li>  <li>grafana 등의 모니터링 기능을 편리하게 세팅 가능.</li>  <li>1인 개발의 리소스 제한에도 불구하고 많은 유용한 기능을 쉽게 구현이 가능하다.</li></ul><h2 id=\"2-why-microservice-architecture\">2. Why MicroService Architecture?</h2><ul>  <li>추후 서비스 확장을 계획하고 있고, 기능 단위로 분리하여 기존의 기능을 재사용 할 수 있도록 구성했다.</li></ul><h2 id=\"3-why-github-action\">3. Why Github Action?</h2><ul>  <li>Github Action으로 개발 서버에서 도커 이미지 및 manaifest commit - push 만으로 서비스 서버에서 바로 기능이 적용 될 수 있도록 구성.</li></ul><h2 id=\"4-system-design\">4. System Design</h2><p><img src=\"/assets/esg_media/pipeline/kube_pipeline_trans.png\" alt=\"kubernetes_pipeline\" /></p><h2 id=\"4-real-service-screen\">4. Real Service Screen</h2><p><strong>Front</strong><img src=\"/assets/esg_media/webpage/kresg_front.png\" alt=\"front\" />  <br />\\</p><p><strong>ESG Issue Analysis</strong><img src=\"/assets/esg_media/webpage/kresg_issue.png\" alt=\"issue_analysis\" />  <br />\\</p><p><strong>Target Company Monitoring</strong><img src=\"/assets/esg_media/webpage/kresg_monitoring.png\" alt=\"monitoring\" />  <br />\\</p><p><strong>Target Company News List</strong><img src=\"/assets/esg_media/webpage/kresg_news_list.png\" alt=\"news\" />  <br />\\</p><p><strong>Data Center</strong><img src=\"/assets/esg_media/webpage/kresg_datacenter.png\" alt=\"data_center\" /></p>",
            "url": "http://0.0.0.0:4001/2023/01/01/esg-media-ml-service-kr",
            
            
            
            
            
            "date_published": "2023-01-01T00:00:00+09:00",
            "date_modified": "2023-01-01T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2023/01/01/colorectal-cancer-h-e-staining-glass-image",
            "title": "ESG Media Topic Classification",
            "summary": null,
            "content_text": "[2018.11-2019.03] Colorectal cancer H&amp;E staining glass image 이미지를 이용한 용종 분류  CNN기반의 colorectal cancer cell segmentation 모델 개발.  H&amp;E staining glass image의 전 처리 및 트레이닝 코드 개발 및 라이브러리화.  선행 연구로서 camelyon16,17 데이터로 breast cancer에 대한 모델 만든 후 transfer learning시행.",
            "content_html": "<p>[2018.11-2019.03] Colorectal cancer H&amp;E staining glass image 이미지를 이용한 용종 분류</p><ul>  <li>CNN기반의 colorectal cancer cell segmentation 모델 개발.</li>  <li>H&amp;E staining glass image의 전 처리 및 트레이닝 코드 개발 및 라이브러리화.</li>  <li>선행 연구로서 camelyon16,17 데이터로 breast cancer에 대한 모델 만든 후 transfer learning시행.</li></ul>",
            "url": "http://0.0.0.0:4001/2023/01/01/colorectal-cancer-h-e-staining-glass-image",
            
            
            
            
            
            "date_published": "2023-01-01T00:00:00+09:00",
            "date_modified": "2023-01-01T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2023/01/01/esg-media-ml-service",
            "title": "ESG Media Machine-Learning Service Pipeline",
            "summary": null,
            "content_text": "Link  KESG Media Portal Site   Tutorial : Simple ML Pipeline with Kubernetes + Restful API Service Infra  Kubernetes : Microk8s ( 1 Master + 2 Worker)  Github Action  MicroService Architecture : Flask + Kubernetes  Front : Dash for ProtoType  DataBase : Postgres , mySQL  GPU : RTX 3090 x 2  Model  python, dash  pytorch, transformer, tensorflow  BERT (use embedding layer that fine tuned with KLUE dataset) , LightGBM, Mecab, Konlpy, Scikit-learn,1. Why Kubernetes?  When there were many samples or intermittent network problems, people had to repair them after monitoring each time.Therefore, self-healing-enabled Kubernetes automates these monitoring and repairs to reduce labor costs.  Since large-scale traffic could occur in the future, the Load Balance function was required.  Monitoring functions such as grafana can be set conveniently.  Despite the resource limitations of single-person development, many useful functions can be easily implemented.2. Why MicroService Architecture?  Service extension is planned in the future, and it is desgined to reuse existing functions by separating them into functional units.3. Why Github Action?  Organized so that functions can be applied directly from the development server to the service server through Github Action with manifest4. System Design4. Real Service ScreenFront    ESG Issue Analysis     Target Company Monitoring      Target Company News List        Data Center  ",
            "content_html": "<p><strong>Link</strong></p><ul>  <li><a href=\"http://portal.kresg.co.kr/\">KESG Media Portal Site </a></li>  <li><a href=\"\">Tutorial : Simple ML Pipeline with Kubernetes + Restful API </a></li></ul><p><strong>Service Infra</strong></p><ul>  <li>Kubernetes : Microk8s ( 1 Master + 2 Worker)</li>  <li>Github Action</li>  <li>MicroService Architecture : Flask + Kubernetes</li>  <li>Front : Dash for ProtoType</li>  <li>DataBase : Postgres , mySQL</li>  <li>GPU : RTX 3090 x 2  <br /><br /><strong>Model</strong></li>  <li>python, dash</li>  <li>pytorch, transformer, tensorflow</li>  <li>BERT (use embedding layer that fine tuned with KLUE dataset) , LightGBM, Mecab, Konlpy, Scikit-learn,</li></ul><h2 id=\"1-why-kubernetes\">1. Why Kubernetes?</h2><ul>  <li>When there were many samples or intermittent network problems, people had to repair them after monitoring each time.Therefore, self-healing-enabled Kubernetes automates these monitoring and repairs to reduce labor costs.</li>  <li>Since large-scale traffic could occur in the future, the Load Balance function was required.</li>  <li>Monitoring functions such as grafana can be set conveniently.</li>  <li>Despite the resource limitations of single-person development, many useful functions can be easily implemented.</li></ul><h2 id=\"2-why-microservice-architecture\">2. Why MicroService Architecture?</h2><ul>  <li>Service extension is planned in the future, and it is desgined to reuse existing functions by separating them into functional units.</li></ul><h2 id=\"3-why-github-action\">3. Why Github Action?</h2><ul>  <li>Organized so that functions can be applied directly from the development server to the service server through Github Action with manifest</li></ul><h2 id=\"4-system-design\">4. System Design</h2><p><img src=\"/assets/esg_media/pipeline/kube_pipeline_trans.png\" alt=\"kubernetes_pipeline\" /></p><h2 id=\"4-real-service-screen\">4. Real Service Screen</h2><p><strong>Front</strong>  <br /><img src=\"/assets/esg_media/webpage/kresg_front.png\" alt=\"front\" />  <br /><br /><strong>ESG Issue Analysis</strong>  <br /><img src=\"/assets/esg_media/webpage/kresg_issue.png\" alt=\"issue_analysis\" />  <br /><br /> <br /><strong>Target Company Monitoring</strong>  <br /><img src=\"/assets/esg_media/webpage/kresg_monitoring.png\" alt=\"monitoring\" />  <br /><br />  <br /><strong>Target Company News List</strong>  <br /><img src=\"/assets/esg_media/webpage/kresg_news_list.png\" alt=\"news\" />     <br /><br /> <br /><strong>Data Center</strong>  <br /><img src=\"/assets/esg_media/webpage/kresg_datacenter.png\" alt=\"data_center\" /></p>",
            "url": "http://0.0.0.0:4001/2023/01/01/esg-media-ml-service",
            
            
            
            
            
            "date_published": "2023-01-01T00:00:00+09:00",
            "date_modified": "2023-01-01T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2022/06/02/clinical-decision-support-algorithm-to-anti-pd-1-therapy",
            "title": "CTD-squared Pancancer Chemosensitivity DREAM Challenge",
            "summary": null,
            "content_text": "Gene Expression Searching and machine learning model for Chemosensitivity Predictioncontents  Data  Workflow &amp; Key ideas  Conclusion &amp; Discussion  Reference  Feature Engineering  If you want to see entire predictive system concept, see section 2  If you want to detail of machine learning strategies, see section 5      The data used in this work are all public data.    In the middle, we changed the working environment to the AWS environment. The code for this repository is still unorganized, so it can be messy. And because the data is very large, I didn’t put it in the repository.  1. DataUsed Dataset  CCLE basal expression &amp; meta info  L1000 phase1, phase2 lv.5  CTRP AUC  DEMETER2 normalized dependency score for 515 cell lines  PANACEA gene expressionPreprocessingUse the following five data to describe the characteristics of the cell line.Histology and basal expressions for 515 cell lines in CCLE ,TF activity inference score and Pathway inference score were calculated from the CCLE basal expression value using Viper. PROGENy, respectively.The NA values within the DEMETER2 score were imputed with average values per cell lines.For the data to describe the characteristics of the drug, only post-treatment expression values were used.Signatures for overlapping 326 drugs in CTRP and L1000 are selected and only 973 experimentally measured genes were used to normalize by MODZ.The given PANACEA expression values were also normalized by the MODZ method across the cell lines.\\[\\mathcal{D_f} = \\{  (x_i,y_i) \\vert  f \\in F\\}\\]where $y$ is auc value of perturbation, $x_i$ is feature of each sample.$\\mathcal{S}$ is feature class, $\\mathcal{S} = {TF,PRO,HIST,GENE,CCLE,D2_{mean} }$, $\\mathcal{F}$ is  feature set, $\\mathcal{F} = {f_i \\vert  i \\in S }$\\[f^* = \\{ TF,HIST,GENE,CCLE,D2_{mean} \\}\\]  2. Workflow &amp; Key ideas Step1. Searching similar drugs for hidden drugsFirst, we performed the gene expression signature search via spearman correlation calculation. As a reference data, L1000, which was signaturized for each drug through MODZ, and PANACEA was used as a query for this. The similarity between drugs was calculated by spearman correlation. We chose similar drugs with the following criteria. By calculating robust z-score for the similarity matrix, only drugs corresponding to more than 70% of the max value of z-score were collected for each query drug. For example, for the above method, there are 7 and 19 drugs selected as drugs similar to cmpd_KW and cmpd_WW, respectively.     Step2. Modeling &amp; PredictionAs shown above, a drug-specific model was created using only the selected perturbations for each hidden drug.The model approached the regression problem using the GBDT to predict the AUC value according to the cell line-drug pairs given in the CTRP and used features describing the above mentioned. We use CART for base learner with histogram optimized approximate greedy algorithm.  We finally found out that roughly 3000 features exhibited the best performance, and we actually saw that performance was not significantly reduced even if we reduced to 7 feature sets through dimension reduction.  The most efficient dimensional reduction model was the Autoencoder model with MSE + Correlation*0.7 as the objective, but due to the complicated analysis, we use the gradient boosting method with the CART for base learner and use a very small number of sampled features. And by overfitting each prediction model to a specific set of drugs,  final ensemble model had better generalization performance since the diversity of models increased.     Step3. EnsembleFor generalization performance, we implemented a model ensemble. Using the results of varying the threshold value from 20% to 90% of max with z-score as shown above, correlation between the results of each model was compared. To use more diverse models, eight models were finally selected in the order in which they were less correlated with each other, and the predicted results were integrated to create a final presentation file.Detail procedure is like this.\\(\\mathcal{M} \\textrm{ is set of models,} \\mathcal{M} := \\{ M_1 , \\cdots , M_n \\}, \\mathcal{D} : \\mathcal{M} \\times  \\mathcal{M} \\rightarrow \\mathcal{R} \\textrm{ is distance function}\\) and we define average distance over each model.\\[\\mathcal{D}_{avg}(M_i) = \\frac{1}{| \\mathcal{M} \\setminus { \\{i\\} }  |}  \\sum_{m \\in \\mathcal{M} \\backslash {\\{i\\}} } \\mathcal{D}(M_i,m)\\]next, we select candidate for ensemble .\\[\\mathcal{M}_{candidate} :=\\{  \\mathcal{M}_i | \\mathcal{D}_{avg}(M_i) \\ngeq \\textrm{ 90th percentile} \\}\\]finaly, define of ensemble score is like below .\\[S_{ensemble} = exp( \\frac{1}{|\\mathcal{M}_{candidate}|}  \\sum_{m \\in \\mathcal{M}_{candidate}} log( \\mathcal{D}_{avg}(m)) )\\]3. Conclusion &amp; DiscussionWe started from the assumption that we could deduce the MoA of the drug via post-treatment gene expression on the drug.It is difficult to predict drug sensitivities that have specific targets and specific pathways(Koras, K et al. 2020). So, we recognized the need to make models for each drug, and we tried many things, such as looking at which gene has high coefficient for each drug by predicting AUC with only gene expression, in addition to the methods described above. Our experiments have also shown that it is better to make a model for each drugs than to use one model predicting the AUC for all drugs.Each cell line has its own unique characteristics, so it is very meaningful to use it as a feature that can explain it. Predicting the drug sensitivities for each cell line will be very useful in selecting cell lines in experimental screening and also valuable in the field of new drug development in reducing costs.Since we didn’t have enough time to find the optimal model, we had no choice but to use the naive experimental results, so I think we can improve the predictive performance through more accurate experiments.4. References  CTD-squared Pancancer Chemosensitivity DREAM Challenge (syn21763589)  CTD-squared BeatAML DREAM Challenge (syn20940518)  Rees, M., Seashore-Ludlow, B., Cheah, J., Adams, D., Price, E., Gill, S., Javaid, S., Coletti, M., Jones, V., Bodycombe, N., Soule, C., Alexander, B., Li, A., Montgomery, P., Kotz, J., Hon, C., Munoz, B., Liefeld, T., Dančík, V., Haber, D., Clish, C., Bittker, J., Palmer, M., Wagner, B., Clemons, P., Shamji, A., Schreiber, S. (2016). Correlating chemical sensitivity and basal gene expression reveals mechanism of action Nature Chemical Biology  12(2), 109-116. https://dx.doi.org/10.1038/nchembio.1986  Subramanian, A., Narayan, R., Corsello, S., Peck, D., Natoli, T., Lu, X., Gould, J., Davis, J., Tubelli, A., Asiedu, J., Lahr, D., Hirschman, J., Liu, Z., Donahue, M., Julian, B., Khan, M., Wadden, D., Smith, I., Lam, D., Liberzon, A., Toder, C., Bagul, M., Orzechowski, M., Enache, O., Piccioni, F., Johnson, S., Lyons, N., Berger, A., Shamji, A., Brooks, A., Vrcic, A., Flynn, C., Rosains, J., Takeda, D., Hu, R., Davison, D., Lamb, J., Ardlie, K., Hogstrom, L., Greenside, P., Gray, N., Clemons, P., Silver, S., Wu, X., Zhao, W., Read-Button, W., Wu, X., Haggarty, S., Ronco, L., Boehm, J., Schreiber, S., Doench, J., Bittker, J., Root, D., Wong, B., Golub, T. (2017). A Next Generation Connectivity Map: L1000 Platform and the First 1,000,000 Profiles Cell 171(6), 1437 1452.e17. https://dx.doi.org/10.1016/j.cell.2017.10.049  Szalai, B., Subramanian, V., Holland, C., Alföldi, R., Pusk, L., Saez-Rodriguez, J. (2019). Signatures of cell death and proliferation in perturbation transcriptomics data—from confounding factor to effective prediction Nucleic Acids Research  47(19), 10010-10026. https://dx.doi.org/10.1093/nar/gkz805  Koras, K., Juraeva, D., Kreis, J., Mazur, J., Staub, E., Szczurek, E. (2020). Feature selection strategies for drug sensitivity prediction Scientific Reports 10(1), 9377. https://dx.doi.org/10.1038/s41598-020-65927-9  Garcia-Alonso L, Holland C, Ibrahim M, Turei D, Saez-Rodriguez J (2019). “Benchmark and integration of resources for the estimation of human transcription factor activities.” Genome Research. doi: 10.1101/gr.240663.118.  Schubert M, Klinger B, Klünemann M, Sieber A, Uhlitz F, Sauer S, Garnett MJ, Blüthgen N, Saez-Rodriguez J. “Perturbation-response genes reveal signaling footprints in cancer gene expression.” Nature Communications: 10.1038/s41467-017-02391-65. Feature Engineering1. Data Integration   Different public datasets have different gene types. Alternatively, you can use a gene set that you deem valid based on domain knowledge. Strategies other than intersection result in missing value unconditionally. Therefore, the method of imputating the missing value must also be selected.      In this project, we compared two methods using gene sets judged to be valid through intersection and paper search, and found that the performance of intersection is similar. Therefore, we used an intersection geneset with a small data size. (973 genes.)2. Demesional reduction      Unable to find any studies for manifolds of data between total expression amount + chemical reaction amount. Therefore, Autoencoder was used.        Use cosine similarity and pearsons R as the evaluation metric. In a situation where the process of generating genetic data is not guaranteed to be the same, it is difficult to normalize when operating between different dataset. Therefore, Cosine similarity was used as the main and Pearson correlation coefficient was used as an adjunct.        VAE vs AE comparison. (see ‘/code_clean/st_04_mapping_drug_378norm_ctrp_auto_encoder/’)      Why perform demesional reduction and use cosine similarity for AE?  -&gt; I found that the genomic data we use is biased by sequencing machines and processes in training machine learning models. This was previously based on cancer tumor classification tests and genomic data.  These differences mainly occur in relative expression amounts, and it was experimentally found that the types of genes expressed are generally consistent.  This is why I used AE and cosine similarity as an evaluation metric.Why not UMAP(Uniform Manifold Approximation and Projection)? -&gt; In the case of UMAP, it is necessary to design a quality evaluation method of the pre-distance metric, search for the optimal metric, and optimize the projection parameters. And since the model description is not necessary for this competition, it was not used for the sake of time.Why not linear dimensionality reduction (like PCA, NMF)?   -&gt; Because the data is high-dimensional and sparse, the linear method does not fit.3. DNN encoder feature    -&gt; It is a method determined in the engineering process to create optimal features.  Experimentally tried several feature engineering and applied them because we achieved the best CV-score.",
            "content_html": "<h1 id=\"gene-expression-searching-and-machine-learning-model-for-chemosensitivity-prediction\">Gene Expression Searching and machine learning model for Chemosensitivity Prediction</h1><hr /><p><strong><em>contents</em></strong></p><ol>  <li>Data</li>  <li>Workflow &amp; Key ideas</li>  <li>Conclusion &amp; Discussion</li>  <li>Reference</li>  <li>Feature Engineering</li></ol><ul>  <li>If you want to see entire predictive system concept, see section 2</li>  <li>If you want to detail of machine learning strategies, see section 5</li>  <li>    <p>The data used in this work are all public data.</p>  </li>  <li>In the middle, we changed the working environment to the AWS environment. The code for this repository is still unorganized, so it can be messy. And because the data is very large, I didn’t put it in the repository.</li></ul><p>  </p><h1 id=\"1-data\">1. Data</h1><h3 id=\"used-dataset\"><strong>Used Dataset</strong></h3><ul>  <li>CCLE basal expression &amp; meta info</li>  <li>L1000 phase1, phase2 lv.5</li>  <li>CTRP AUC</li>  <li>DEMETER2 normalized dependency score for 515 cell lines</li>  <li>PANACEA gene expression</li></ul><h3 id=\"preprocessing\"><strong>Preprocessing</strong></h3><p>Use the following five data to describe the characteristics of the cell line.Histology and basal expressions for 515 cell lines in CCLE ,TF activity inference score and Pathway inference score were calculated from the CCLE basal expression value using Viper. PROGENy, respectively.The NA values within the DEMETER2 score were imputed with average values per cell lines.</p><p>For the data to describe the characteristics of the drug, only post-treatment expression values were used.Signatures for overlapping 326 drugs in CTRP and L1000 are selected and only 973 experimentally measured genes were used to normalize by MODZ.The given PANACEA expression values were also normalized by the MODZ method across the cell lines.</p>\\[\\mathcal{D_f} = \\{  (x_i,y_i) \\vert  f \\in F\\}\\]<p>where $y$ is auc value of perturbation, $x_i$ is feature of each sample.</p><p>$\\mathcal{S}$ is feature class, $\\mathcal{S} = {TF,PRO,HIST,GENE,CCLE,D2_{mean} }$, $\\mathcal{F}$ is  feature set, $\\mathcal{F} = {f_i \\vert  i \\in S }$</p>\\[f^* = \\{ TF,HIST,GENE,CCLE,D2_{mean} \\}\\]<p>  </p><h1 id=\"2-workflow--key-ideas\">2. Workflow &amp; Key ideas</h1><p> </p><h3 id=\"step1-searching-similar-drugs-for-hidden-drugs\">Step1. Searching similar drugs for hidden drugs</h3><hr /><p>First, we performed the gene expression signature search via spearman correlation calculation. As a reference data, L1000, which was signaturized for each drug through MODZ, and PANACEA was used as a query for this. The similarity between drugs was calculated by spearman correlation. We chose similar drugs with the following criteria. By calculating robust z-score for the similarity matrix, only drugs corresponding to more than 70% of the max value of z-score were collected for each query drug. For example, for the above method, there are 7 and 19 drugs selected as drugs similar to cmpd_KW and cmpd_WW, respectively.</p><p align=\"center\">    <img width=\"400\" src=\"./img/z_score_thereshold.png\" /></p><p> </p><h3 id=\"step2-modeling--prediction\">Step2. Modeling &amp; Prediction</h3><hr /><p>As shown above, a drug-specific model was created using only the selected perturbations for each hidden drug.The model approached the regression problem using the GBDT to predict the AUC value according to the cell line-drug pairs given in the CTRP and used features describing the above mentioned. We use CART for base learner with histogram optimized approximate greedy algorithm.  We finally found out that roughly 3000 features exhibited the best performance, and we actually saw that performance was not significantly reduced even if we reduced to 7 feature sets through dimension reduction.  The most efficient dimensional reduction model was the Autoencoder model with MSE + Correlation*0.7 as the objective, but due to the complicated analysis, we use the gradient boosting method with the CART for base learner and use a very small number of sampled features. And by overfitting each prediction model to a specific set of drugs,  final ensemble model had better generalization performance since the diversity of models increased.</p><p align=\"center\">    <img width=\"800\" src=\"./img/structure.png\" alt=\"Material Bread logo\" /></p><p> </p><h3 id=\"step3-ensemble\">Step3. Ensemble</h3><p>For generalization performance, we implemented a model ensemble. Using the results of varying the threshold value from 20% to 90% of max with z-score as shown above, correlation between the results of each model was compared. To use more diverse models, eight models were finally selected in the order in which they were less correlated with each other, and the predicted results were integrated to create a final presentation file.Detail procedure is like this.</p><p>\\(\\mathcal{M} \\textrm{ is set of models,} \\mathcal{M} := \\{ M_1 , \\cdots , M_n \\}, \\mathcal{D} : \\mathcal{M} \\times  \\mathcal{M} \\rightarrow \\mathcal{R} \\textrm{ is distance function}\\) and we define average distance over each model.</p>\\[\\mathcal{D}_{avg}(M_i) = \\frac{1}{| \\mathcal{M} \\setminus { \\{i\\} }  |}  \\sum_{m \\in \\mathcal{M} \\backslash {\\{i\\}} } \\mathcal{D}(M_i,m)\\]<p>next, we select candidate for ensemble .</p>\\[\\mathcal{M}_{candidate} :=\\{  \\mathcal{M}_i | \\mathcal{D}_{avg}(M_i) \\ngeq \\textrm{ 90th percentile} \\}\\]<p>finaly, define of ensemble score is like below .</p>\\[S_{ensemble} = exp( \\frac{1}{|\\mathcal{M}_{candidate}|}  \\sum_{m \\in \\mathcal{M}_{candidate}} log( \\mathcal{D}_{avg}(m)) )\\]<p><br /><br /></p><h1 id=\"3-conclusion--discussion\">3. Conclusion &amp; Discussion</h1><p>We started from the assumption that we could deduce the MoA of the drug via post-treatment gene expression on the drug.It is difficult to predict drug sensitivities that have specific targets and specific pathways(Koras, K et al. 2020). So, we recognized the need to make models for each drug, and we tried many things, such as looking at which gene has high coefficient for each drug by predicting AUC with only gene expression, in addition to the methods described above. Our experiments have also shown that it is better to make a model for each drugs than to use one model predicting the AUC for all drugs.Each cell line has its own unique characteristics, so it is very meaningful to use it as a feature that can explain it. Predicting the drug sensitivities for each cell line will be very useful in selecting cell lines in experimental screening and also valuable in the field of new drug development in reducing costs.Since we didn’t have enough time to find the optimal model, we had no choice but to use the naive experimental results, so I think we can improve the predictive performance through more accurate experiments.</p><p><br /><br /></p><h1 id=\"4-references\">4. References</h1><ol>  <li>CTD-squared Pancancer Chemosensitivity DREAM Challenge (syn21763589)</li>  <li>CTD-squared BeatAML DREAM Challenge (syn20940518)</li>  <li>Rees, M., Seashore-Ludlow, B., Cheah, J., Adams, D., Price, E., Gill, S., Javaid, S., Coletti, M., Jones, V., Bodycombe, N., Soule, C., Alexander, B., Li, A., Montgomery, P., Kotz, J., Hon, C., Munoz, B., Liefeld, T., Dančík, V., Haber, D., Clish, C., Bittker, J., Palmer, M., Wagner, B., Clemons, P., Shamji, A., Schreiber, S. (2016). Correlating chemical sensitivity and basal gene expression reveals mechanism of action Nature Chemical Biology  12(2), 109-116. https://dx.doi.org/10.1038/nchembio.1986</li>  <li>Subramanian, A., Narayan, R., Corsello, S., Peck, D., Natoli, T., Lu, X., Gould, J., Davis, J., Tubelli, A., Asiedu, J., Lahr, D., Hirschman, J., Liu, Z., Donahue, M., Julian, B., Khan, M., Wadden, D., Smith, I., Lam, D., Liberzon, A., Toder, C., Bagul, M., Orzechowski, M., Enache, O., Piccioni, F., Johnson, S., Lyons, N., Berger, A., Shamji, A., Brooks, A., Vrcic, A., Flynn, C., Rosains, J., Takeda, D., Hu, R., Davison, D., Lamb, J., Ardlie, K., Hogstrom, L., Greenside, P., Gray, N., Clemons, P., Silver, S., Wu, X., Zhao, W., Read-Button, W., Wu, X., Haggarty, S., Ronco, L., Boehm, J., Schreiber, S., Doench, J., Bittker, J., Root, D., Wong, B., Golub, T. (2017). A Next Generation Connectivity Map: L1000 Platform and the First 1,000,000 Profiles Cell 171(6), 1437 1452.e17. https://dx.doi.org/10.1016/j.cell.2017.10.049</li>  <li>Szalai, B., Subramanian, V., Holland, C., Alföldi, R., Pusk, L., Saez-Rodriguez, J. (2019). Signatures of cell death and proliferation in perturbation transcriptomics data—from confounding factor to effective prediction Nucleic Acids Research  47(19), 10010-10026. https://dx.doi.org/10.1093/nar/gkz805</li>  <li>Koras, K., Juraeva, D., Kreis, J., Mazur, J., Staub, E., Szczurek, E. (2020). Feature selection strategies for drug sensitivity prediction Scientific Reports 10(1), 9377. https://dx.doi.org/10.1038/s41598-020-65927-9</li>  <li>Garcia-Alonso L, Holland C, Ibrahim M, Turei D, Saez-Rodriguez J (2019). “Benchmark and integration of resources for the estimation of human transcription factor activities.” Genome Research. doi: 10.1101/gr.240663.118.</li>  <li>Schubert M, Klinger B, Klünemann M, Sieber A, Uhlitz F, Sauer S, Garnett MJ, Blüthgen N, Saez-Rodriguez J. “Perturbation-response genes reveal signaling footprints in cancer gene expression.” Nature Communications: 10.1038/s41467-017-02391-6</li></ol><p><br /><br /></p><h1 id=\"5-feature-engineering\">5. Feature Engineering</h1><p><strong>1. Data Integration</strong>   <br />Different public datasets have different gene types. Alternatively, you can use a gene set that you deem valid based on domain knowledge. Strategies other than intersection result in missing value unconditionally. Therefore, the method of imputating the missing value must also be selected.     <br /> In this project, we compared two methods using gene sets judged to be valid through intersection and paper search, and found that the performance of intersection is similar. Therefore, we used an intersection geneset with a small data size. (973 genes.)</p><p><strong>2. Demesional reduction</strong></p><ul>  <li>    <p>Unable to find any studies for manifolds of data between total expression amount + chemical reaction amount. Therefore, Autoencoder was used.</p>  </li>  <li>    <p>Use cosine similarity and pearsons R as the evaluation metric. In a situation where the process of generating genetic data is not guaranteed to be the same, it is difficult to normalize when operating between different dataset. Therefore, Cosine similarity was used as the main and Pearson correlation coefficient was used as an adjunct.</p>  </li>  <li>    <p>VAE vs AE comparison. (see ‘/code_clean/st_04_mapping_drug_378norm_ctrp_auto_encoder/’)</p>  </li></ul><p align=\"center\">    <img width=\"600\" src=\"./img/vae_ae.png\" alt=\"Material Bread logo\" /></p><p><br /></p><p><strong>Why perform demesional reduction and use cosine similarity for AE?</strong>  <br />-&gt; I found that the genomic data we use is biased by sequencing machines and processes in training machine learning models. This was previously based on cancer tumor classification tests and genomic data.  <br /><br />These differences mainly occur in relative expression amounts, and it was experimentally found that the types of genes expressed are generally consistent.  <br /><br />This is why I used AE and cosine similarity as an evaluation metric.</p><p><br /></p><p><strong>Why not UMAP(Uniform Manifold Approximation and Projection)?</strong><br /> -&gt; In the case of UMAP, it is necessary to design a quality evaluation method of the pre-distance metric, search for the optimal metric, and optimize the projection parameters. And since the model description is not necessary for this competition, it was not used for the sake of time.</p><p><br /></p><p><strong>Why not linear dimensionality reduction (like PCA, NMF)?</strong>  <br /> -&gt; Because the data is high-dimensional and sparse, the linear method does not fit.</p><p><br /></p><p><strong>3. DNN encoder feature</strong>    <br />-&gt; It is a method determined in the engineering process to create optimal features.  <br /><br />Experimentally tried several feature engineering and applied them because we achieved the best CV-score.</p>",
            "url": "http://0.0.0.0:4001/2022/06/02/clinical-decision-support-algorithm-to-anti-pd-1-therapy",
            
            
            
            
            
            "date_published": "2022-06-02T00:00:00+09:00",
            "date_modified": "2022-06-02T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2022/06/01/clinical-decision-support-algorithm-to-anti-pd-1-therapy-kr",
            "title": "Clinical decision support algorithm based on machine learning to assess the clinical response to anti–pd-1 therapy",
            "summary": null,
            "content_text": "A tissue origin prediction device, method of predicting the tissue origin using a genome data, and computer program1020200076756 · Filed Jun 23, 2020SummaryAnti-programmed death (PD)-1 therapy (αPD-1) has been used in patients with non-small celllung cancer (NSCLC), leading to improved outcomes. However, the outcomes of therapy are stillinsufficient, and the expression of PD-ligand 1 (PD-L1) is not always a predictor of response toαPD-1.NSCLC의 치료 목적으로 사용되는 면역 항암제는 일반적으로 키트루다와 옵티보이다.한 달 치료비는 각각 약 60만 달러와 80만 달러이며, 연간 거의 천만 달러의 비용이 든다. The immuno-cancer drugs used for treatment purposes of NSCLC are typically Kitruda and Optivo.Each monthly treatment costs about $600,000 and $800,000, respectively, and costs nearly $10 million a year.하지만 모든 환자에게 약물이 반응하지 않는다. 따라서 키트루다의 경우 PD-L1 발현 양성 비율’이 50% 이상이어야 처방을 받을 수 있다.하지만 조건이 만족되어 처방을 받아도 실제 약물반응은 약 60% 대 이다. But the drug doesn’t respond to all patients. Therefore, in the case of Kitruda, the ‘PD-L1 expression positive rate’ must be 50% or more to be prescribed. However, even if the conditions are satisfied and prescribed, the actual drug reaction is about 60%.우리는 다른 환자의 정보를 사용하여 약물 예측 모델을 연구하여 좀더 많은 환자들이 올바른 처방을 받고 약물 낭비에 의한 비용을 줄이려 한다.Summary Idea &amp; Solution사용된 데이터  clinical data including patient characteristics,  mutations  laboratory findings from the electronic medical records데이터  missing value가 대부분의 피쳐에 존재. 단순 mean, zero 등의 방법이 아닌, 다른 피쳐 및 해당 피쳐의 non-missing value의 분포를 기준으로 inputation 모델을 별로도 학습.  Data leakage가 발생하지 않도록, 임상의사에게 직접 검토를 받았다.Feature Enegineering  유전자 데이터의 경우 Sparse 특성이 있었다. -&gt; Binary 형태의 관련성 있는 유전자 발현 여부를 나타내는 새로운 Feature 생성  Neutrophil 및 Lymphocyte의 경우는 비율인 LNR(lymphocyte-to-neutrophil ratio) 사용모델 선택 및 검증  모델의 적절한 복잡성을 찾기 위해 리니어 모델도 포함하여 모델 선택 진행.  샘플 수가 적어서 모델 선택에는 LOOCV 사용  분야 특성상 어느정도의 설명력이 필요하여, 성능 극대화를 위한 앙상블 단계를 진행하지 않음.  LOOCV 결과로 어느정도 아웃라이어로 보이는 샘플들을 발견. (4개의 샘플)모델 기반 피쳐 분석  데이터간의 interaction 효과가 있을 가능성이 매우 높다.  따라서 단순 entropy기반의 피쳐 중요도는 해석에 오류가 생길 가능성이 높음.  Lime 기반의 explanation model은 샘플수가 적어서, local model 피팅에 문제가 생길 여지가 많다고 판단.  각 샘플 대상으로 shap value의 평균 및 interaction value를 계산했다.DetailFeature engineeringGene&amp; Metastasis FeatureSparsity일반적으로 많이 사용되는 sparsity 판단 기준으로 판단시, zero value의 비율에 의한 sparsity가 있다고 판단되었다.  Percentage of zero values : 데이터 타입이 발현 유무의 Bianry 타입 $ Gene \\ {0,1}$. 최소 85% ~ 최대 95%의 zero value가 보인다. 따라서 sparse하다고 판단.  Number of observations : observations에 의한 sparse는 보이지 않는다.  Variability of data : 바이너리이기 때문에 Percenrage of zero 와 같은 결론이 나온다. Sparse하다  Model performance: 샘플 수의 한계로 판단이 불가  Domain knowledge : 대한 유전자 발현에 대한 정확한 통계가 없으므로, Domain knowledge 기준으로 sparsity를 판단 할 수 없다.New Feature  Sparsity를 감소키기위해서 유전자 피쳐를 관련 유전자의 총 발현량 수를 나타내는 새로운 피쳐로 변경 \\(\\text{driver oncogene} = \\sum{ \\text{gene expression}}\\)  Metastasis 도 같은 방식으로 총 Metastasis로 변경 \\(\\text{metastasis count} = \\sum{ \\text{metastasis present}}\\)  Neutrophil 및 Lymphocyte은 LNR(lymphocyte-to-neutrophil ratio) 피쳐로 대체했다. \\(LNR = log(\\frac{Neutrophil}{Lymphocyte} + \\epsilon )\\)Model Selection아래는 8개의 모델의 roc-auc score 비교 표 이다. LOOCV (Leave one out CV)로 검증을 하였다. 예측에 필요한 모델은 높게 복잡하지 않아도 되는것으로 판단되었다. 따라서 모델 앙상블은 하지 않고 싱글 모델만 비교했다.Best Model PerformanceFeature Attribution모든 샘플의 SHAP value 평균값이다. Shap value는 게임이론 관점에서, 한 피쳐의 및 다른 피쳐와의 시너지 효과까지 고려한 모델의 예측 값에 대한 기여도이다. 의료, 바이오 분야의 데이터는 독립성을 주장하기 어려운 피쳐들이기 때문에 SHAP 값 기반의 해석이 적절하다고 판단했다. 결과를 보면 The persence of non-measurable lesions가 타겟값과의 correlation이 높을 수도 있다는 의심을 했다. 따라서 The persence of non-measurable lesions 의 경우 오디너리 형식의 데이터이므로, spearman correlation을 살펴본다. correlation = -0.44 , p-value = 8.1e-11 이 나왔다. 즉, strong relationship이 아니므로 feature로 사용하였다.",
            "content_html": "<h2 id=\"a-tissue-origin-prediction-device-method-of-predicting-the-tissue-origin-using-a-genome-data-and-computer-program\">A tissue origin prediction device, method of predicting the tissue origin using a genome data, and computer program</h2><h3 id=\"1020200076756--filed-jun-23-2020\">1020200076756 · Filed Jun 23, 2020</h3><h1 id=\"summary\">Summary</h1><hr /><p>Anti-programmed death (PD)-1 therapy (αPD-1) has been used in patients with non-small celllung cancer (NSCLC), leading to improved outcomes. However, the outcomes of therapy are stillinsufficient, and the expression of PD-ligand 1 (PD-L1) is not always a predictor of response toαPD-1.</p><p>NSCLC의 치료 목적으로 사용되는 면역 항암제는 일반적으로 키트루다와 옵티보이다.한 달 치료비는 각각 약 60만 달러와 80만 달러이며, 연간 거의 천만 달러의 비용이 든다. The immuno-cancer drugs used for treatment purposes of NSCLC are typically Kitruda and Optivo.Each monthly treatment costs about $600,000 and $800,000, respectively, and costs nearly $10 million a year.</p><p>하지만 모든 환자에게 약물이 반응하지 않는다. 따라서 키트루다의 경우 PD-L1 발현 양성 비율’이 50% 이상이어야 처방을 받을 수 있다.하지만 조건이 만족되어 처방을 받아도 실제 약물반응은 약 60% 대 이다. But the drug doesn’t respond to all patients. Therefore, in the case of Kitruda, the ‘PD-L1 expression positive rate’ must be 50% or more to be prescribed. However, even if the conditions are satisfied and prescribed, the actual drug reaction is about 60%.</p><p>우리는 다른 환자의 정보를 사용하여 약물 예측 모델을 연구하여 좀더 많은 환자들이 올바른 처방을 받고 약물 낭비에 의한 비용을 줄이려 한다.</p><h1 id=\"summary-idea--solution\">Summary Idea &amp; Solution</h1><hr /><h2 id=\"사용된-데이터\">사용된 데이터</h2><ul>  <li>clinical data including patient characteristics,</li>  <li>mutations</li>  <li>laboratory findings from the electronic medical records</li></ul><h2 id=\"데이터\">데이터</h2><ul>  <li>missing value가 대부분의 피쳐에 존재. 단순 mean, zero 등의 방법이 아닌, 다른 피쳐 및 해당 피쳐의 non-missing value의 분포를 기준으로 inputation 모델을 별로도 학습.</li>  <li>Data leakage가 발생하지 않도록, 임상의사에게 직접 검토를 받았다.</li></ul><h2 id=\"feature-enegineering\">Feature Enegineering</h2><ul>  <li>유전자 데이터의 경우 Sparse 특성이 있었다. -&gt; Binary 형태의 관련성 있는 유전자 발현 여부를 나타내는 새로운 Feature 생성</li>  <li>Neutrophil 및 Lymphocyte의 경우는 비율인 LNR(lymphocyte-to-neutrophil ratio) 사용</li></ul><h2 id=\"모델-선택-및-검증\">모델 선택 및 검증</h2><ul>  <li>모델의 적절한 복잡성을 찾기 위해 리니어 모델도 포함하여 모델 선택 진행.</li>  <li>샘플 수가 적어서 모델 선택에는 LOOCV 사용</li>  <li>분야 특성상 어느정도의 설명력이 필요하여, 성능 극대화를 위한 앙상블 단계를 진행하지 않음.</li>  <li>LOOCV 결과로 어느정도 아웃라이어로 보이는 샘플들을 발견. (4개의 샘플)</li></ul><h2 id=\"모델-기반-피쳐-분석\">모델 기반 피쳐 분석</h2><ul>  <li>데이터간의 interaction 효과가 있을 가능성이 매우 높다.</li>  <li>따라서 단순 entropy기반의 피쳐 중요도는 해석에 오류가 생길 가능성이 높음.</li>  <li>Lime 기반의 explanation model은 샘플수가 적어서, local model 피팅에 문제가 생길 여지가 많다고 판단.</li>  <li>각 샘플 대상으로 shap value의 평균 및 interaction value를 계산했다.</li></ul><p><img src=\"/assets/publication_patents/CDSS_main.jpg\" alt=\"main_fig\" /><img src=\"/assets/publication_patents/paper_front.png\" alt=\"front\" /></p><h1 id=\"detail\">Detail</h1><hr /><h2 id=\"feature-engineering\">Feature engineering</h2><h3 id=\"gene-metastasis-feature\">Gene&amp; Metastasis Feature</h3><p><strong>Sparsity</strong>일반적으로 많이 사용되는 sparsity 판단 기준으로 판단시, zero value의 비율에 의한 sparsity가 있다고 판단되었다.</p><ul>  <li>Percentage of zero values : 데이터 타입이 발현 유무의 Bianry 타입 $ Gene \\ {0,1}$. 최소 85% ~ 최대 95%의 zero value가 보인다. 따라서 sparse하다고 판단.</li>  <li>Number of observations : observations에 의한 sparse는 보이지 않는다.</li>  <li>Variability of data : 바이너리이기 때문에 Percenrage of zero 와 같은 결론이 나온다. Sparse하다</li>  <li>Model performance: 샘플 수의 한계로 판단이 불가</li>  <li>Domain knowledge : 대한 유전자 발현에 대한 정확한 통계가 없으므로, Domain knowledge 기준으로 sparsity를 판단 할 수 없다.</li></ul><p><strong>New Feature</strong></p><ul>  <li>Sparsity를 감소키기위해서 유전자 피쳐를 관련 유전자의 총 발현량 수를 나타내는 새로운 피쳐로 변경 \\(\\text{driver oncogene} = \\sum{ \\text{gene expression}}\\)</li>  <li>Metastasis 도 같은 방식으로 총 Metastasis로 변경 \\(\\text{metastasis count} = \\sum{ \\text{metastasis present}}\\)</li>  <li>Neutrophil 및 Lymphocyte은 LNR(lymphocyte-to-neutrophil ratio) 피쳐로 대체했다. \\(LNR = log(\\frac{Neutrophil}{Lymphocyte} + \\epsilon )\\)</li></ul><h1 id=\"model-selection\">Model Selection</h1><hr /><p>아래는 8개의 모델의 roc-auc score 비교 표 이다. LOOCV (Leave one out CV)로 검증을 하였다. 예측에 필요한 모델은 높게 복잡하지 않아도 되는것으로 판단되었다. 따라서 모델 앙상블은 하지 않고 싱글 모델만 비교했다.</p><p><img src=\"/assets/publication_patents/paper_compare.png\" alt=\"score\" /></p><p><br /></p><h3 id=\"best-model-performance\">Best Model Performance</h3><p><img src=\"/assets/publication_patents/paper_score.png\" alt=\"score\" /></p><h1 id=\"feature-attribution\">Feature Attribution</h1><hr /><p>모든 샘플의 SHAP value 평균값이다. Shap value는 게임이론 관점에서, 한 피쳐의 및 다른 피쳐와의 시너지 효과까지 고려한 모델의 예측 값에 대한 기여도이다. 의료, 바이오 분야의 데이터는 독립성을 주장하기 어려운 피쳐들이기 때문에 SHAP 값 기반의 해석이 적절하다고 판단했다. <img src=\"/assets/publication_patents/paper_shap_val.png\" alt=\"shap\" /></p><p>결과를 보면 The persence of non-measurable lesions가 타겟값과의 correlation이 높을 수도 있다는 의심을 했다. 따라서 The persence of non-measurable lesions 의 경우 오디너리 형식의 데이터이므로, spearman correlation을 살펴본다. correlation = -0.44 , p-value = 8.1e-11 이 나왔다. 즉, strong relationship이 아니므로 feature로 사용하였다.</p><!-- 반응 여부 : 바이너리, lesions은 오디너리 형식(0,0.5,1)  correlation을 스피어만 , 피어슨중 골라야함. 설명을 하면 스피어만은 monotonic relationship, 피어슨은 linear relationship 이 있는지를 보는 것이다. 모노토닉은 한 변수가 증가할때 다른 변수도 증가하는지 여부만 보는것. linear는 한변수가 1증가시 다른변수도 같은양인 1로 증가하는지, 증가 폭도 같이 보는것이다. (양적관계도 포함되어있다.) -->",
            "url": "http://0.0.0.0:4001/2022/06/01/clinical-decision-support-algorithm-to-anti-pd-1-therapy-kr",
            
            
            
            
            
            "date_published": "2022-06-01T00:00:00+09:00",
            "date_modified": "2022-06-01T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2020/06/23/a-tissue-origin-prediction-device-method-of-predicting-the-tissue-origin-using-a-genome-data-and-computer-program",
            "title": "A tissue origin prediction device, method of predicting the tissue origin using a genome data, and computer program",
            "summary": null,
            "content_text": "1020200076756 · Filed Jun 23, 2020FrontSummary[2018.05-2018.07] TCGA,GEO데이터를 이용해 33종 암의 primary site 예측 및 similarity mapping 모델 연구  모델 성능 측정 방법 디자인을 위한 데이터 shift 분석  gene expression을 이용한 예측 모델 개발(deep learning모델, GBDT모델, SVM, 선형모델 등 비교)  multi-minority 문제 해결을 위한 gene expression, DNA methylation, microRNA expression 의 비교.  cell type별 및 다른 시퀀싱 파이프라인 데이터를 사용해 교차검증 진행.Data  RNA, mRNA, methylation  전이암 환자들의 원발 부위 정보Summary Idea &amp; Solution  피쳐 Selection이 핵심. 모든 피쳐가 같은 타입,특징이다.  피쳐 수 80만개 이상, 샘플 수를 적절하게 줄여야 한다.  다음의 기준으로 샘플 수를 줄여 나갈 수 있다. 아래 방법은 모두 효과가 있는 것을 확인했다.          sparsity      standard_diviation      entorpy / gini ( tree 기반의 모델에서 얻을 수 있다. ) : consistancy 보장이 안된다는 단점이 있다.      lime or shap : 연산시간의 오래걸리는 단점이 있다.        대부분의 피쳐가 sparse하다.  실제로 모델로 tissue origin을 찾아야 한다.  Detail샘플 수 대비 성능 등의 그래프 를 올리면 좋을듯.",
            "content_html": "<p>1020200076756 · Filed Jun 23, 2020</p><p><a href=\"'./assets/../../../assets/publication_patents/patent_pdl1/patent_pdl1_front.png'\">Front</a></p><h1 id=\"summary\">Summary</h1><p>[2018.05-2018.07] TCGA,GEO데이터를 이용해 33종 암의 primary site 예측 및 similarity mapping 모델 연구</p><ul>  <li>모델 성능 측정 방법 디자인을 위한 데이터 shift 분석</li>  <li>gene expression을 이용한 예측 모델 개발(deep learning모델, GBDT모델, SVM, 선형모델 등 비교)</li>  <li>multi-minority 문제 해결을 위한 gene expression, DNA methylation, microRNA expression 의 비교.</li>  <li>cell type별 및 다른 시퀀싱 파이프라인 데이터를 사용해 교차검증 진행.</li></ul><h3 id=\"data\">Data</h3><ul>  <li>RNA, mRNA, methylation</li>  <li>전이암 환자들의 원발 부위 정보</li></ul><h1 id=\"summary-idea--solution\">Summary Idea &amp; Solution</h1><ul>  <li>피쳐 Selection이 핵심. 모든 피쳐가 같은 타입,특징이다.</li>  <li>피쳐 수 80만개 이상, 샘플 수를 적절하게 줄여야 한다.</li>  <li>다음의 기준으로 샘플 수를 줄여 나갈 수 있다. 아래 방법은 모두 효과가 있는 것을 확인했다.    <ul>      <li>sparsity</li>      <li>standard_diviation</li>      <li>entorpy / gini ( tree 기반의 모델에서 얻을 수 있다. ) : consistancy 보장이 안된다는 단점이 있다.</li>      <li>lime or shap : 연산시간의 오래걸리는 단점이 있다.</li>    </ul>  </li>  <li>대부분의 피쳐가 sparse하다.</li>  <li>실제로 모델로 tissue origin을 찾아야 한다.</li>  <li></li></ul><h1 id=\"detail\">Detail</h1><p>샘플 수 대비 성능 등의 그래프 를 올리면 좋을듯.</p>",
            "url": "http://0.0.0.0:4001/2020/06/23/a-tissue-origin-prediction-device-method-of-predicting-the-tissue-origin-using-a-genome-data-and-computer-program",
            
            
            
            
            
            "date_published": "2020-06-23T00:00:00+09:00",
            "date_modified": "2020-06-23T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2020/06/01/ctd-squared-pancancer-chemosensitivity-dream-challenge",
            "title": "CTD-squared Pancancer Chemosensitivity DREAM Challenge",
            "summary": null,
            "content_text": "Gene Expression Searching and machine learning model for Chemosensitivity Predictionlink  official competetion site  github-repositorycontents  Data  Workflow &amp; Key ideas  Conclusion &amp; Discussion  Key Idea &amp; Feature Engineering  Reference  If you want to see entire predictive system concept, see section 2  If you want to detail of machine learning strategies, see section 5      The data used in this work are all public data.    In the middle, we changed the working environment to the AWS environment. The code for this repository is still unorganized, so it can be messy. And because the data is very large, I didn’t put it in the repository.  1. DataUsed Dataset  CCLE basal expression &amp; meta info  L1000 phase1, phase2 lv.5  CTRP AUC  DEMETER2 normalized dependency score for 515 cell lines  PANACEA gene expressionPreprocessingUse the following five data to describe the characteristics of the cell line.Histology and basal expressions for 515 cell lines in CCLE ,TF activity inference score and Pathway inference score were calculated from the CCLE basal expression value using Viper. PROGENy, respectively.The NA values within the DEMETER2 score were imputed with average values per cell lines.For the data to describe the characteristics of the drug, only post-treatment expression values were used.Signatures for overlapping 326 drugs in CTRP and L1000 are selected and only 973 experimentally measured genes were used to normalize by MODZ.The given PANACEA expression values were also normalized by the MODZ method across the cell lines.\\[\\mathcal{D_f} = \\{  (x_i,y_i) \\vert  f \\in F\\}\\]where $y$ is auc value of perturbation, $x_i$ is feature of each sample.$\\mathcal{S}$ is feature class, $\\mathcal{S} = {TF,PRO,HIST,GENE,CCLE,D2_{mean} }$, $\\mathcal{F}$ is  feature set, $\\mathcal{F} = {f_i \\vert  i \\in S }$\\[f^* = \\{ TF,HIST,GENE,CCLE,D2_{mean} \\}\\]  2. Workflow &amp; Key ideas Step1. Searching similar drugs for hidden drugsFirst, we performed the gene expression signature search via spearman correlation calculation. As a reference data, L1000, which was signaturized for each drug through MODZ, and PANACEA was used as a query for this. The similarity between drugs was calculated by spearman correlation. We chose similar drugs with the following criteria. By calculating robust z-score for the similarity matrix, only drugs corresponding to more than 70% of the max value of z-score were collected for each query drug. For example, for the above method, there are 7 and 19 drugs selected as drugs similar to cmpd_KW and cmpd_WW, respectively.     Step2. Modeling &amp; PredictionAs shown above, a drug-specific model was created using only the selected perturbations for each hidden drug.The model approached the regression problem using the GBDT to predict the AUC value according to the cell line-drug pairs given in the CTRP and used features describing the above mentioned. We use CART for base learner with histogram optimized approximate greedy algorithm.  We finally found out that roughly 3000 features exhibited the best performance, and we actually saw that performance was not significantly reduced even if we reduced to 7 feature sets through dimension reduction.  The most efficient dimensional reduction model was the Autoencoder model with MSE + Correlation*0.7 as the objective, but due to the complicated analysis, we use the gradient boosting method with the CART for base learner and use a very small number of sampled features. And by overfitting each prediction model to a specific set of drugs,  final ensemble model had better generalization performance since the diversity of models increased.     Step3. EnsembleFor generalization performance, we implemented a model ensemble. Using the results of varying the threshold value from 20% to 90% of max with z-score as shown above, correlation between the results of each model was compared. To use more diverse models, eight models were finally selected in the order in which they were less correlated with each other, and the predicted results were integrated to create a final presentation file.Detail procedure is like this.\\(\\mathcal{M} \\textrm{ is set of models,} \\mathcal{M} := \\{ M_1 , \\cdots , M_n \\}, \\mathcal{D} : \\mathcal{M} \\times  \\mathcal{M} \\rightarrow \\mathcal{R} \\textrm{ is distance function}\\) and we define average distance over each model.\\[\\mathcal{D}_{avg}(M_i) = \\frac{1}{| \\mathcal{M} \\setminus { \\{i\\} }  |}  \\sum_{m \\in \\mathcal{M} \\backslash {\\{i\\}} } \\mathcal{D}(M_i,m)\\]next, we select candidate for ensemble .\\[\\mathcal{M}_{candidate} :=\\{  \\mathcal{M}_i | \\mathcal{D}_{avg}(M_i) \\ngeq \\textrm{ 90th percentile} \\}\\]finaly, define of ensemble score is like below .\\[S_{ensemble} = exp( \\frac{1}{|\\mathcal{M}_{candidate}|}  \\sum_{m \\in \\mathcal{M}_{candidate}} log( \\mathcal{D}_{avg}(m)) )\\]  3. Conclusion &amp; DiscussionWe started from the assumption that we could deduce the MoA of the drug via post-treatment gene expression on the drug.It is difficult to predict drug sensitivities that have specific targets and specific pathways(Koras, K et al. 2020). So, we recognized the need to make models for each drug, and we tried many things, such as looking at which gene has high coefficient for each drug by predicting AUC with only gene expression, in addition to the methods described above. Our experiments have also shown that it is better to make a model for each drugs than to use one model predicting the AUC for all drugs.Each cell line has its own unique characteristics, so it is very meaningful to use it as a feature that can explain it. Predicting the drug sensitivities for each cell line will be very useful in selecting cell lines in experimental screening and also valuable in the field of new drug development in reducing costs.Since we didn’t have enough time to find the optimal model, we had no choice but to use the naive experimental results, so I think we can improve the predictive performance through more accurate experiments.    4. Key Idea &amp; Feature Engineering1. Data Integration   Different public datasets have different gene types. Alternatively, you can use a gene set that you deem valid based on domain knowledge. Strategies other than intersection result in missing value unconditionally. Therefore, the method of imputating the missing value must also be selected.      In this project, we compared two methods using gene sets judged to be valid through intersection and paper search, and found that the performance of intersection is similar. Therefore, we used an intersection geneset with a small data size. (973 genes.)2. Demesional reduction      Unable to find any studies for manifolds of data between total expression amount + chemical reaction amount. Therefore, Autoencoder was used.        Use cosine similarity and pearsons R as the evaluation metric. In a situation where the process of generating genetic data is not guaranteed to be the same, it is difficult to normalize when operating between different dataset. Therefore, Cosine similarity was used as the main and Pearson correlation coefficient was used as an adjunct.        VAE vs AE comparison. (see ‘/code_clean/st_04_mapping_drug_378norm_ctrp_auto_encoder/’)       Why perform demesional reduction and use cosine similarity for AE?  -&gt; I found that the genomic data we use is biased by sequencing machines and processes in training machine learning models. This was previously based on cancer tumor classification tests and genomic data.   These differences mainly occur in relative expression amounts, and it was experimentally found that the types of genes expressed are generally consistent.   This is why I used AE and cosine similarity as an evaluation metric.      Why not UMAP(Uniform Manifold Approximation and Projection)? -&gt; In the case of UMAP, it is necessary to design a quality evaluation method of the pre-distance metric, search for the optimal metric, and optimize the projection parameters. And since the model description is not necessary for this competition, it was not used for the sake of time.   Why not linear dimensionality reduction (like PCA, NMF)?   -&gt; Because the data is high-dimensional and sparse, the linear method does not fit.   3. DNN encoder feature    -&gt; It is a method determined in the engineering process to create optimal features.   Experimentally tried several feature engineering and applied them because we achieved the best CV-score.   4. References  CTD-squared Pancancer Chemosensitivity DREAM Challenge (syn21763589)  CTD-squared BeatAML DREAM Challenge (syn20940518)  Rees, M., Seashore-Ludlow, B., Cheah, J., Adams, D., Price, E., Gill, S., Javaid, S., Coletti, M., Jones, V., Bodycombe, N., Soule, C., Alexander, B., Li, A., Montgomery, P., Kotz, J., Hon, C., Munoz, B., Liefeld, T., Dančík, V., Haber, D., Clish, C., Bittker, J., Palmer, M., Wagner, B., Clemons, P., Shamji, A., Schreiber, S. (2016). Correlating chemical sensitivity and basal gene expression reveals mechanism of action Nature Chemical Biology  12(2), 109-116. https://dx.doi.org/10.1038/nchembio.1986  Subramanian, A., Narayan, R., Corsello, S., Peck, D., Natoli, T., Lu, X., Gould, J., Davis, J., Tubelli, A., Asiedu, J., Lahr, D., Hirschman, J., Liu, Z., Donahue, M., Julian, B., Khan, M., Wadden, D., Smith, I., Lam, D., Liberzon, A., Toder, C., Bagul, M., Orzechowski, M., Enache, O., Piccioni, F., Johnson, S., Lyons, N., Berger, A., Shamji, A., Brooks, A., Vrcic, A., Flynn, C., Rosains, J., Takeda, D., Hu, R., Davison, D., Lamb, J., Ardlie, K., Hogstrom, L., Greenside, P., Gray, N., Clemons, P., Silver, S., Wu, X., Zhao, W., Read-Button, W., Wu, X., Haggarty, S., Ronco, L., Boehm, J., Schreiber, S., Doench, J., Bittker, J., Root, D., Wong, B., Golub, T. (2017). A Next Generation Connectivity Map: L1000 Platform and the First 1,000,000 Profiles Cell 171(6), 1437 1452.e17. https://dx.doi.org/10.1016/j.cell.2017.10.049  Szalai, B., Subramanian, V., Holland, C., Alföldi, R., Pusk, L., Saez-Rodriguez, J. (2019). Signatures of cell death and proliferation in perturbation transcriptomics data—from confounding factor to effective prediction Nucleic Acids Research  47(19), 10010-10026. https://dx.doi.org/10.1093/nar/gkz805  Koras, K., Juraeva, D., Kreis, J., Mazur, J., Staub, E., Szczurek, E. (2020). Feature selection strategies for drug sensitivity prediction Scientific Reports 10(1), 9377. https://dx.doi.org/10.1038/s41598-020-65927-9  Garcia-Alonso L, Holland C, Ibrahim M, Turei D, Saez-Rodriguez J (2019). “Benchmark and integration of resources for the estimation of human transcription factor activities.” Genome Research. doi: 10.1101/gr.240663.118.  Schubert M, Klinger B, Klünemann M, Sieber A, Uhlitz F, Sauer S, Garnett MJ, Blüthgen N, Saez-Rodriguez J. “Perturbation-response genes reveal signaling footprints in cancer gene expression.” Nature Communications: 10.1038/s41467-017-02391-6",
            "content_html": "<h1 id=\"gene-expression-searching-and-machine-learning-model-for-chemosensitivity-prediction\">Gene Expression Searching and machine learning model for Chemosensitivity Prediction</h1><hr /><p><strong><em>link</em></strong>  <br /><a href=\"\">official competetion site</a>  <br /><a href=\"\">github-repository</a></p><p><strong><em>contents</em></strong></p><ol>  <li>Data</li>  <li>Workflow &amp; Key ideas</li>  <li>Conclusion &amp; Discussion</li>  <li>Key Idea &amp; Feature Engineering</li>  <li>Reference</li></ol><ul>  <li>If you want to see entire predictive system concept, see section 2</li>  <li>If you want to detail of machine learning strategies, see section 5</li>  <li>    <p>The data used in this work are all public data.</p>  </li>  <li>In the middle, we changed the working environment to the AWS environment. The code for this repository is still unorganized, so it can be messy. And because the data is very large, I didn’t put it in the repository.</li></ul><p>  </p><h1 id=\"1-data\">1. Data</h1><h3 id=\"used-dataset\"><strong>Used Dataset</strong></h3><ul>  <li>CCLE basal expression &amp; meta info</li>  <li>L1000 phase1, phase2 lv.5</li>  <li>CTRP AUC</li>  <li>DEMETER2 normalized dependency score for 515 cell lines</li>  <li>PANACEA gene expression</li></ul><h3 id=\"preprocessing\"><strong>Preprocessing</strong></h3><p>Use the following five data to describe the characteristics of the cell line.Histology and basal expressions for 515 cell lines in CCLE ,TF activity inference score and Pathway inference score were calculated from the CCLE basal expression value using Viper. PROGENy, respectively.The NA values within the DEMETER2 score were imputed with average values per cell lines.</p><p>For the data to describe the characteristics of the drug, only post-treatment expression values were used.Signatures for overlapping 326 drugs in CTRP and L1000 are selected and only 973 experimentally measured genes were used to normalize by MODZ.The given PANACEA expression values were also normalized by the MODZ method across the cell lines.</p>\\[\\mathcal{D_f} = \\{  (x_i,y_i) \\vert  f \\in F\\}\\]<p>where $y$ is auc value of perturbation, $x_i$ is feature of each sample.</p><p>$\\mathcal{S}$ is feature class, $\\mathcal{S} = {TF,PRO,HIST,GENE,CCLE,D2_{mean} }$, $\\mathcal{F}$ is  feature set, $\\mathcal{F} = {f_i \\vert  i \\in S }$</p>\\[f^* = \\{ TF,HIST,GENE,CCLE,D2_{mean} \\}\\]<p>  </p><h1 id=\"2-workflow--key-ideas\">2. Workflow &amp; Key ideas</h1><p> </p><h3 id=\"step1-searching-similar-drugs-for-hidden-drugs\">Step1. Searching similar drugs for hidden drugs</h3><hr /><p>First, we performed the gene expression signature search via spearman correlation calculation. As a reference data, L1000, which was signaturized for each drug through MODZ, and PANACEA was used as a query for this. The similarity between drugs was calculated by spearman correlation. We chose similar drugs with the following criteria. By calculating robust z-score for the similarity matrix, only drugs corresponding to more than 70% of the max value of z-score were collected for each query drug. For example, for the above method, there are 7 and 19 drugs selected as drugs similar to cmpd_KW and cmpd_WW, respectively.</p><p align=\"center\">    <img width=\"400\" src=\"./img/z_score_thereshold.png\" /></p><p> </p><h3 id=\"step2-modeling--prediction\">Step2. Modeling &amp; Prediction</h3><hr /><p>As shown above, a drug-specific model was created using only the selected perturbations for each hidden drug.The model approached the regression problem using the GBDT to predict the AUC value according to the cell line-drug pairs given in the CTRP and used features describing the above mentioned. We use CART for base learner with histogram optimized approximate greedy algorithm.  We finally found out that roughly 3000 features exhibited the best performance, and we actually saw that performance was not significantly reduced even if we reduced to 7 feature sets through dimension reduction.  The most efficient dimensional reduction model was the Autoencoder model with MSE + Correlation*0.7 as the objective, but due to the complicated analysis, we use the gradient boosting method with the CART for base learner and use a very small number of sampled features. And by overfitting each prediction model to a specific set of drugs,  final ensemble model had better generalization performance since the diversity of models increased.</p><p align=\"center\">    <img width=\"800\" src=\"./img/structure.png\" alt=\"Material Bread logo\" /></p><p> </p><h3 id=\"step3-ensemble\">Step3. Ensemble</h3><p>For generalization performance, we implemented a model ensemble. Using the results of varying the threshold value from 20% to 90% of max with z-score as shown above, correlation between the results of each model was compared. To use more diverse models, eight models were finally selected in the order in which they were less correlated with each other, and the predicted results were integrated to create a final presentation file.Detail procedure is like this.</p><p>\\(\\mathcal{M} \\textrm{ is set of models,} \\mathcal{M} := \\{ M_1 , \\cdots , M_n \\}, \\mathcal{D} : \\mathcal{M} \\times  \\mathcal{M} \\rightarrow \\mathcal{R} \\textrm{ is distance function}\\) and we define average distance over each model.</p>\\[\\mathcal{D}_{avg}(M_i) = \\frac{1}{| \\mathcal{M} \\setminus { \\{i\\} }  |}  \\sum_{m \\in \\mathcal{M} \\backslash {\\{i\\}} } \\mathcal{D}(M_i,m)\\]<p>next, we select candidate for ensemble .</p>\\[\\mathcal{M}_{candidate} :=\\{  \\mathcal{M}_i | \\mathcal{D}_{avg}(M_i) \\ngeq \\textrm{ 90th percentile} \\}\\]<p>finaly, define of ensemble score is like below .</p>\\[S_{ensemble} = exp( \\frac{1}{|\\mathcal{M}_{candidate}|}  \\sum_{m \\in \\mathcal{M}_{candidate}} log( \\mathcal{D}_{avg}(m)) )\\]<p>  </p><h1 id=\"3-conclusion--discussion\">3. Conclusion &amp; Discussion</h1><p>We started from the assumption that we could deduce the MoA of the drug via post-treatment gene expression on the drug.It is difficult to predict drug sensitivities that have specific targets and specific pathways(Koras, K et al. 2020). So, we recognized the need to make models for each drug, and we tried many things, such as looking at which gene has high coefficient for each drug by predicting AUC with only gene expression, in addition to the methods described above. Our experiments have also shown that it is better to make a model for each drugs than to use one model predicting the AUC for all drugs.Each cell line has its own unique characteristics, so it is very meaningful to use it as a feature that can explain it. Predicting the drug sensitivities for each cell line will be very useful in selecting cell lines in experimental screening and also valuable in the field of new drug development in reducing costs.Since we didn’t have enough time to find the optimal model, we had no choice but to use the naive experimental results, so I think we can improve the predictive performance through more accurate experiments.</p><p>  </p><p>  </p><h1 id=\"4-key-idea--feature-engineering\">4. Key Idea &amp; Feature Engineering</h1><p><strong>1. Data Integration</strong>   <br />Different public datasets have different gene types. Alternatively, you can use a gene set that you deem valid based on domain knowledge. Strategies other than intersection result in missing value unconditionally. Therefore, the method of imputating the missing value must also be selected.     <br /> In this project, we compared two methods using gene sets judged to be valid through intersection and paper search, and found that the performance of intersection is similar. Therefore, we used an intersection geneset with a small data size. (973 genes.)</p><p><strong>2. Demesional reduction</strong></p><ul>  <li>    <p>Unable to find any studies for manifolds of data between total expression amount + chemical reaction amount. Therefore, Autoencoder was used.</p>  </li>  <li>    <p>Use cosine similarity and pearsons R as the evaluation metric. In a situation where the process of generating genetic data is not guaranteed to be the same, it is difficult to normalize when operating between different dataset. Therefore, Cosine similarity was used as the main and Pearson correlation coefficient was used as an adjunct.</p>  </li>  <li>    <p>VAE vs AE comparison. (see ‘/code_clean/st_04_mapping_drug_378norm_ctrp_auto_encoder/’)</p>  </li></ul><p align=\"center\">    <img width=\"600\" src=\"./img/vae_ae.png\" alt=\"Material Bread logo\" /></p><p> </p><p><strong>Why perform demesional reduction and use cosine similarity for AE?</strong>  <br />-&gt; I found that the genomic data we use is biased by sequencing machines and processes in training machine learning models. This was previously based on cancer tumor classification tests and genomic data.  <br /> These differences mainly occur in relative expression amounts, and it was experimentally found that the types of genes expressed are generally consistent.  <br /> This is why I used AE and cosine similarity as an evaluation metric.</p><p>      <br /><strong>Why not UMAP(Uniform Manifold Approximation and Projection)?</strong><br /> -&gt; In the case of UMAP, it is necessary to design a quality evaluation method of the pre-distance metric, search for the optimal metric, and optimize the projection parameters. And since the model description is not necessary for this competition, it was not used for the sake of time.</p><p>   <br /><strong>Why not linear dimensionality reduction (like PCA, NMF)?</strong>  <br /> -&gt; Because the data is high-dimensional and sparse, the linear method does not fit.</p><p>   <br /><strong>3. DNN encoder feature</strong>    <br />-&gt; It is a method determined in the engineering process to create optimal features.  <br /> Experimentally tried several feature engineering and applied them because we achieved the best CV-score.</p><p>   </p><h1 id=\"4-references\">4. References</h1><ol>  <li>CTD-squared Pancancer Chemosensitivity DREAM Challenge (syn21763589)</li>  <li>CTD-squared BeatAML DREAM Challenge (syn20940518)</li>  <li>Rees, M., Seashore-Ludlow, B., Cheah, J., Adams, D., Price, E., Gill, S., Javaid, S., Coletti, M., Jones, V., Bodycombe, N., Soule, C., Alexander, B., Li, A., Montgomery, P., Kotz, J., Hon, C., Munoz, B., Liefeld, T., Dančík, V., Haber, D., Clish, C., Bittker, J., Palmer, M., Wagner, B., Clemons, P., Shamji, A., Schreiber, S. (2016). Correlating chemical sensitivity and basal gene expression reveals mechanism of action Nature Chemical Biology  12(2), 109-116. https://dx.doi.org/10.1038/nchembio.1986</li>  <li>Subramanian, A., Narayan, R., Corsello, S., Peck, D., Natoli, T., Lu, X., Gould, J., Davis, J., Tubelli, A., Asiedu, J., Lahr, D., Hirschman, J., Liu, Z., Donahue, M., Julian, B., Khan, M., Wadden, D., Smith, I., Lam, D., Liberzon, A., Toder, C., Bagul, M., Orzechowski, M., Enache, O., Piccioni, F., Johnson, S., Lyons, N., Berger, A., Shamji, A., Brooks, A., Vrcic, A., Flynn, C., Rosains, J., Takeda, D., Hu, R., Davison, D., Lamb, J., Ardlie, K., Hogstrom, L., Greenside, P., Gray, N., Clemons, P., Silver, S., Wu, X., Zhao, W., Read-Button, W., Wu, X., Haggarty, S., Ronco, L., Boehm, J., Schreiber, S., Doench, J., Bittker, J., Root, D., Wong, B., Golub, T. (2017). A Next Generation Connectivity Map: L1000 Platform and the First 1,000,000 Profiles Cell 171(6), 1437 1452.e17. https://dx.doi.org/10.1016/j.cell.2017.10.049</li>  <li>Szalai, B., Subramanian, V., Holland, C., Alföldi, R., Pusk, L., Saez-Rodriguez, J. (2019). Signatures of cell death and proliferation in perturbation transcriptomics data—from confounding factor to effective prediction Nucleic Acids Research  47(19), 10010-10026. https://dx.doi.org/10.1093/nar/gkz805</li>  <li>Koras, K., Juraeva, D., Kreis, J., Mazur, J., Staub, E., Szczurek, E. (2020). Feature selection strategies for drug sensitivity prediction Scientific Reports 10(1), 9377. https://dx.doi.org/10.1038/s41598-020-65927-9</li>  <li>Garcia-Alonso L, Holland C, Ibrahim M, Turei D, Saez-Rodriguez J (2019). “Benchmark and integration of resources for the estimation of human transcription factor activities.” Genome Research. doi: 10.1101/gr.240663.118.</li>  <li>Schubert M, Klinger B, Klünemann M, Sieber A, Uhlitz F, Sauer S, Garnett MJ, Blüthgen N, Saez-Rodriguez J. “Perturbation-response genes reveal signaling footprints in cancer gene expression.” Nature Communications: 10.1038/s41467-017-02391-6</li></ol>",
            "url": "http://0.0.0.0:4001/2020/06/01/ctd-squared-pancancer-chemosensitivity-dream-challenge",
            
            
            
            
            
            "date_published": "2020-06-01T00:00:00+09:00",
            "date_modified": "2020-06-01T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2020/06/01/ctd-squared-pancancer-chemosensitivity-dream-challenge",
            "title": "CTD-squared Pancancer Chemosensitivity DREAM Challenge",
            "summary": null,
            "content_text": "Gene Expression Searching and machine learning model for Chemosensitivity Predictioncontents  Data  Workflow &amp; Key ideas  Conclusion &amp; Discussion  Reference  Feature Engineering  If you want to see entire predictive system concept, see section 2  If you want to detail of machine learning strategies, see section 5      The data used in this work are all public data.    In the middle, we changed the working environment to the AWS environment. The code for this repository is still unorganized, so it can be messy. And because the data is very large, I didn’t put it in the repository.  1. DataUsed Dataset  CCLE basal expression &amp; meta info  L1000 phase1, phase2 lv.5  CTRP AUC  DEMETER2 normalized dependency score for 515 cell lines  PANACEA gene expressionPreprocessingUse the following five data to describe the characteristics of the cell line.Histology and basal expressions for 515 cell lines in CCLE ,TF activity inference score and Pathway inference score were calculated from the CCLE basal expression value using Viper. PROGENy, respectively.The NA values within the DEMETER2 score were imputed with average values per cell lines.For the data to describe the characteristics of the drug, only post-treatment expression values were used.Signatures for overlapping 326 drugs in CTRP and L1000 are selected and only 973 experimentally measured genes were used to normalize by MODZ.The given PANACEA expression values were also normalized by the MODZ method across the cell lines.\\[\\mathcal{D_f} = \\{  (x_i,y_i) \\vert  f \\in F\\}\\]where $y$ is auc value of perturbation, $x_i$ is feature of each sample.$\\mathcal{S}$ is feature class, $\\mathcal{S} = {TF,PRO,HIST,GENE,CCLE,D2_{mean} }$, $\\mathcal{F}$ is  feature set, $\\mathcal{F} = {f_i \\vert  i \\in S }$\\[f^* = \\{ TF,HIST,GENE,CCLE,D2_{mean} \\}\\]  2. Workflow &amp; Key ideas Step1. Searching similar drugs for hidden drugsFirst, we performed the gene expression signature search via spearman correlation calculation. As a reference data, L1000, which was signaturized for each drug through MODZ, and PANACEA was used as a query for this. The similarity between drugs was calculated by spearman correlation. We chose similar drugs with the following criteria. By calculating robust z-score for the similarity matrix, only drugs corresponding to more than 70% of the max value of z-score were collected for each query drug. For example, for the above method, there are 7 and 19 drugs selected as drugs similar to cmpd_KW and cmpd_WW, respectively.     Step2. Modeling &amp; PredictionAs shown above, a drug-specific model was created using only the selected perturbations for each hidden drug.The model approached the regression problem using the GBDT to predict the AUC value according to the cell line-drug pairs given in the CTRP and used features describing the above mentioned. We use CART for base learner with histogram optimized approximate greedy algorithm.  We finally found out that roughly 3000 features exhibited the best performance, and we actually saw that performance was not significantly reduced even if we reduced to 7 feature sets through dimension reduction.  The most efficient dimensional reduction model was the Autoencoder model with MSE + Correlation*0.7 as the objective, but due to the complicated analysis, we use the gradient boosting method with the CART for base learner and use a very small number of sampled features. And by overfitting each prediction model to a specific set of drugs,  final ensemble model had better generalization performance since the diversity of models increased.     Step3. EnsembleFor generalization performance, we implemented a model ensemble. Using the results of varying the threshold value from 20% to 90% of max with z-score as shown above, correlation between the results of each model was compared. To use more diverse models, eight models were finally selected in the order in which they were less correlated with each other, and the predicted results were integrated to create a final presentation file.Detail procedure is like this.\\(\\mathcal{M} \\textrm{ is set of models,} \\mathcal{M} := \\{ M_1 , \\cdots , M_n \\}, \\mathcal{D} : \\mathcal{M} \\times  \\mathcal{M} \\rightarrow \\mathcal{R} \\textrm{ is distance function}\\) and we define average distance over each model.\\[\\mathcal{D}_{avg}(M_i) = \\frac{1}{| \\mathcal{M} \\setminus { \\{i\\} }  |}  \\sum_{m \\in \\mathcal{M} \\backslash {\\{i\\}} } \\mathcal{D}(M_i,m)\\]next, we select candidate for ensemble .\\[\\mathcal{M}_{candidate} :=\\{  \\mathcal{M}_i | \\mathcal{D}_{avg}(M_i) \\ngeq \\textrm{ 90th percentile} \\}\\]finaly, define of ensemble score is like below .\\[S_{ensemble} = exp( \\frac{1}{|\\mathcal{M}_{candidate}|}  \\sum_{m \\in \\mathcal{M}_{candidate}} log( \\mathcal{D}_{avg}(m)) )\\]3. Conclusion &amp; DiscussionWe started from the assumption that we could deduce the MoA of the drug via post-treatment gene expression on the drug.It is difficult to predict drug sensitivities that have specific targets and specific pathways(Koras, K et al. 2020). So, we recognized the need to make models for each drug, and we tried many things, such as looking at which gene has high coefficient for each drug by predicting AUC with only gene expression, in addition to the methods described above. Our experiments have also shown that it is better to make a model for each drugs than to use one model predicting the AUC for all drugs.Each cell line has its own unique characteristics, so it is very meaningful to use it as a feature that can explain it. Predicting the drug sensitivities for each cell line will be very useful in selecting cell lines in experimental screening and also valuable in the field of new drug development in reducing costs.Since we didn’t have enough time to find the optimal model, we had no choice but to use the naive experimental results, so I think we can improve the predictive performance through more accurate experiments.4. References  CTD-squared Pancancer Chemosensitivity DREAM Challenge (syn21763589)  CTD-squared BeatAML DREAM Challenge (syn20940518)  Rees, M., Seashore-Ludlow, B., Cheah, J., Adams, D., Price, E., Gill, S., Javaid, S., Coletti, M., Jones, V., Bodycombe, N., Soule, C., Alexander, B., Li, A., Montgomery, P., Kotz, J., Hon, C., Munoz, B., Liefeld, T., Dančík, V., Haber, D., Clish, C., Bittker, J., Palmer, M., Wagner, B., Clemons, P., Shamji, A., Schreiber, S. (2016). Correlating chemical sensitivity and basal gene expression reveals mechanism of action Nature Chemical Biology  12(2), 109-116. https://dx.doi.org/10.1038/nchembio.1986  Subramanian, A., Narayan, R., Corsello, S., Peck, D., Natoli, T., Lu, X., Gould, J., Davis, J., Tubelli, A., Asiedu, J., Lahr, D., Hirschman, J., Liu, Z., Donahue, M., Julian, B., Khan, M., Wadden, D., Smith, I., Lam, D., Liberzon, A., Toder, C., Bagul, M., Orzechowski, M., Enache, O., Piccioni, F., Johnson, S., Lyons, N., Berger, A., Shamji, A., Brooks, A., Vrcic, A., Flynn, C., Rosains, J., Takeda, D., Hu, R., Davison, D., Lamb, J., Ardlie, K., Hogstrom, L., Greenside, P., Gray, N., Clemons, P., Silver, S., Wu, X., Zhao, W., Read-Button, W., Wu, X., Haggarty, S., Ronco, L., Boehm, J., Schreiber, S., Doench, J., Bittker, J., Root, D., Wong, B., Golub, T. (2017). A Next Generation Connectivity Map: L1000 Platform and the First 1,000,000 Profiles Cell 171(6), 1437 1452.e17. https://dx.doi.org/10.1016/j.cell.2017.10.049  Szalai, B., Subramanian, V., Holland, C., Alföldi, R., Pusk, L., Saez-Rodriguez, J. (2019). Signatures of cell death and proliferation in perturbation transcriptomics data—from confounding factor to effective prediction Nucleic Acids Research  47(19), 10010-10026. https://dx.doi.org/10.1093/nar/gkz805  Koras, K., Juraeva, D., Kreis, J., Mazur, J., Staub, E., Szczurek, E. (2020). Feature selection strategies for drug sensitivity prediction Scientific Reports 10(1), 9377. https://dx.doi.org/10.1038/s41598-020-65927-9  Garcia-Alonso L, Holland C, Ibrahim M, Turei D, Saez-Rodriguez J (2019). “Benchmark and integration of resources for the estimation of human transcription factor activities.” Genome Research. doi: 10.1101/gr.240663.118.  Schubert M, Klinger B, Klünemann M, Sieber A, Uhlitz F, Sauer S, Garnett MJ, Blüthgen N, Saez-Rodriguez J. “Perturbation-response genes reveal signaling footprints in cancer gene expression.” Nature Communications: 10.1038/s41467-017-02391-65. Feature Engineering1. Data Integration   Different public datasets have different gene types. Alternatively, you can use a gene set that you deem valid based on domain knowledge. Strategies other than intersection result in missing value unconditionally. Therefore, the method of imputating the missing value must also be selected.      In this project, we compared two methods using gene sets judged to be valid through intersection and paper search, and found that the performance of intersection is similar. Therefore, we used an intersection geneset with a small data size. (973 genes.)2. Demesional reduction      Unable to find any studies for manifolds of data between total expression amount + chemical reaction amount. Therefore, Autoencoder was used.        Use cosine similarity and pearsons R as the evaluation metric. In a situation where the process of generating genetic data is not guaranteed to be the same, it is difficult to normalize when operating between different dataset. Therefore, Cosine similarity was used as the main and Pearson correlation coefficient was used as an adjunct.        VAE vs AE comparison. (see ‘/code_clean/st_04_mapping_drug_378norm_ctrp_auto_encoder/’)      Why perform demesional reduction and use cosine similarity for AE?  -&gt; I found that the genomic data we use is biased by sequencing machines and processes in training machine learning models. This was previously based on cancer tumor classification tests and genomic data.  These differences mainly occur in relative expression amounts, and it was experimentally found that the types of genes expressed are generally consistent.  This is why I used AE and cosine similarity as an evaluation metric.Why not UMAP(Uniform Manifold Approximation and Projection)? -&gt; In the case of UMAP, it is necessary to design a quality evaluation method of the pre-distance metric, search for the optimal metric, and optimize the projection parameters. And since the model description is not necessary for this competition, it was not used for the sake of time.Why not linear dimensionality reduction (like PCA, NMF)?   -&gt; Because the data is high-dimensional and sparse, the linear method does not fit.3. DNN encoder feature    -&gt; It is a method determined in the engineering process to create optimal features.  Experimentally tried several feature engineering and applied them because we achieved the best CV-score.",
            "content_html": "<h1 id=\"gene-expression-searching-and-machine-learning-model-for-chemosensitivity-prediction\">Gene Expression Searching and machine learning model for Chemosensitivity Prediction</h1><hr /><p><strong><em>contents</em></strong></p><ol>  <li>Data</li>  <li>Workflow &amp; Key ideas</li>  <li>Conclusion &amp; Discussion</li>  <li>Reference</li>  <li>Feature Engineering</li></ol><ul>  <li>If you want to see entire predictive system concept, see section 2</li>  <li>If you want to detail of machine learning strategies, see section 5</li>  <li>    <p>The data used in this work are all public data.</p>  </li>  <li>In the middle, we changed the working environment to the AWS environment. The code for this repository is still unorganized, so it can be messy. And because the data is very large, I didn’t put it in the repository.</li></ul><p>  </p><h1 id=\"1-data\">1. Data</h1><h3 id=\"used-dataset\"><strong>Used Dataset</strong></h3><ul>  <li>CCLE basal expression &amp; meta info</li>  <li>L1000 phase1, phase2 lv.5</li>  <li>CTRP AUC</li>  <li>DEMETER2 normalized dependency score for 515 cell lines</li>  <li>PANACEA gene expression</li></ul><h3 id=\"preprocessing\"><strong>Preprocessing</strong></h3><p>Use the following five data to describe the characteristics of the cell line.Histology and basal expressions for 515 cell lines in CCLE ,TF activity inference score and Pathway inference score were calculated from the CCLE basal expression value using Viper. PROGENy, respectively.The NA values within the DEMETER2 score were imputed with average values per cell lines.</p><p>For the data to describe the characteristics of the drug, only post-treatment expression values were used.Signatures for overlapping 326 drugs in CTRP and L1000 are selected and only 973 experimentally measured genes were used to normalize by MODZ.The given PANACEA expression values were also normalized by the MODZ method across the cell lines.</p>\\[\\mathcal{D_f} = \\{  (x_i,y_i) \\vert  f \\in F\\}\\]<p>where $y$ is auc value of perturbation, $x_i$ is feature of each sample.</p><p>$\\mathcal{S}$ is feature class, $\\mathcal{S} = {TF,PRO,HIST,GENE,CCLE,D2_{mean} }$, $\\mathcal{F}$ is  feature set, $\\mathcal{F} = {f_i \\vert  i \\in S }$</p>\\[f^* = \\{ TF,HIST,GENE,CCLE,D2_{mean} \\}\\]<p>  </p><h1 id=\"2-workflow--key-ideas\">2. Workflow &amp; Key ideas</h1><p> </p><h3 id=\"step1-searching-similar-drugs-for-hidden-drugs\">Step1. Searching similar drugs for hidden drugs</h3><hr /><p>First, we performed the gene expression signature search via spearman correlation calculation. As a reference data, L1000, which was signaturized for each drug through MODZ, and PANACEA was used as a query for this. The similarity between drugs was calculated by spearman correlation. We chose similar drugs with the following criteria. By calculating robust z-score for the similarity matrix, only drugs corresponding to more than 70% of the max value of z-score were collected for each query drug. For example, for the above method, there are 7 and 19 drugs selected as drugs similar to cmpd_KW and cmpd_WW, respectively.</p><p align=\"center\">    <img width=\"400\" src=\"./img/z_score_thereshold.png\" /></p><p> </p><h3 id=\"step2-modeling--prediction\">Step2. Modeling &amp; Prediction</h3><hr /><p>As shown above, a drug-specific model was created using only the selected perturbations for each hidden drug.The model approached the regression problem using the GBDT to predict the AUC value according to the cell line-drug pairs given in the CTRP and used features describing the above mentioned. We use CART for base learner with histogram optimized approximate greedy algorithm.  We finally found out that roughly 3000 features exhibited the best performance, and we actually saw that performance was not significantly reduced even if we reduced to 7 feature sets through dimension reduction.  The most efficient dimensional reduction model was the Autoencoder model with MSE + Correlation*0.7 as the objective, but due to the complicated analysis, we use the gradient boosting method with the CART for base learner and use a very small number of sampled features. And by overfitting each prediction model to a specific set of drugs,  final ensemble model had better generalization performance since the diversity of models increased.</p><p align=\"center\">    <img width=\"800\" src=\"./img/structure.png\" alt=\"Material Bread logo\" /></p><p> </p><h3 id=\"step3-ensemble\">Step3. Ensemble</h3><p>For generalization performance, we implemented a model ensemble. Using the results of varying the threshold value from 20% to 90% of max with z-score as shown above, correlation between the results of each model was compared. To use more diverse models, eight models were finally selected in the order in which they were less correlated with each other, and the predicted results were integrated to create a final presentation file.Detail procedure is like this.</p><p>\\(\\mathcal{M} \\textrm{ is set of models,} \\mathcal{M} := \\{ M_1 , \\cdots , M_n \\}, \\mathcal{D} : \\mathcal{M} \\times  \\mathcal{M} \\rightarrow \\mathcal{R} \\textrm{ is distance function}\\) and we define average distance over each model.</p>\\[\\mathcal{D}_{avg}(M_i) = \\frac{1}{| \\mathcal{M} \\setminus { \\{i\\} }  |}  \\sum_{m \\in \\mathcal{M} \\backslash {\\{i\\}} } \\mathcal{D}(M_i,m)\\]<p>next, we select candidate for ensemble .</p>\\[\\mathcal{M}_{candidate} :=\\{  \\mathcal{M}_i | \\mathcal{D}_{avg}(M_i) \\ngeq \\textrm{ 90th percentile} \\}\\]<p>finaly, define of ensemble score is like below .</p>\\[S_{ensemble} = exp( \\frac{1}{|\\mathcal{M}_{candidate}|}  \\sum_{m \\in \\mathcal{M}_{candidate}} log( \\mathcal{D}_{avg}(m)) )\\]<p><br /><br /></p><h1 id=\"3-conclusion--discussion\">3. Conclusion &amp; Discussion</h1><p>We started from the assumption that we could deduce the MoA of the drug via post-treatment gene expression on the drug.It is difficult to predict drug sensitivities that have specific targets and specific pathways(Koras, K et al. 2020). So, we recognized the need to make models for each drug, and we tried many things, such as looking at which gene has high coefficient for each drug by predicting AUC with only gene expression, in addition to the methods described above. Our experiments have also shown that it is better to make a model for each drugs than to use one model predicting the AUC for all drugs.Each cell line has its own unique characteristics, so it is very meaningful to use it as a feature that can explain it. Predicting the drug sensitivities for each cell line will be very useful in selecting cell lines in experimental screening and also valuable in the field of new drug development in reducing costs.Since we didn’t have enough time to find the optimal model, we had no choice but to use the naive experimental results, so I think we can improve the predictive performance through more accurate experiments.</p><p><br /><br /></p><h1 id=\"4-references\">4. References</h1><ol>  <li>CTD-squared Pancancer Chemosensitivity DREAM Challenge (syn21763589)</li>  <li>CTD-squared BeatAML DREAM Challenge (syn20940518)</li>  <li>Rees, M., Seashore-Ludlow, B., Cheah, J., Adams, D., Price, E., Gill, S., Javaid, S., Coletti, M., Jones, V., Bodycombe, N., Soule, C., Alexander, B., Li, A., Montgomery, P., Kotz, J., Hon, C., Munoz, B., Liefeld, T., Dančík, V., Haber, D., Clish, C., Bittker, J., Palmer, M., Wagner, B., Clemons, P., Shamji, A., Schreiber, S. (2016). Correlating chemical sensitivity and basal gene expression reveals mechanism of action Nature Chemical Biology  12(2), 109-116. https://dx.doi.org/10.1038/nchembio.1986</li>  <li>Subramanian, A., Narayan, R., Corsello, S., Peck, D., Natoli, T., Lu, X., Gould, J., Davis, J., Tubelli, A., Asiedu, J., Lahr, D., Hirschman, J., Liu, Z., Donahue, M., Julian, B., Khan, M., Wadden, D., Smith, I., Lam, D., Liberzon, A., Toder, C., Bagul, M., Orzechowski, M., Enache, O., Piccioni, F., Johnson, S., Lyons, N., Berger, A., Shamji, A., Brooks, A., Vrcic, A., Flynn, C., Rosains, J., Takeda, D., Hu, R., Davison, D., Lamb, J., Ardlie, K., Hogstrom, L., Greenside, P., Gray, N., Clemons, P., Silver, S., Wu, X., Zhao, W., Read-Button, W., Wu, X., Haggarty, S., Ronco, L., Boehm, J., Schreiber, S., Doench, J., Bittker, J., Root, D., Wong, B., Golub, T. (2017). A Next Generation Connectivity Map: L1000 Platform and the First 1,000,000 Profiles Cell 171(6), 1437 1452.e17. https://dx.doi.org/10.1016/j.cell.2017.10.049</li>  <li>Szalai, B., Subramanian, V., Holland, C., Alföldi, R., Pusk, L., Saez-Rodriguez, J. (2019). Signatures of cell death and proliferation in perturbation transcriptomics data—from confounding factor to effective prediction Nucleic Acids Research  47(19), 10010-10026. https://dx.doi.org/10.1093/nar/gkz805</li>  <li>Koras, K., Juraeva, D., Kreis, J., Mazur, J., Staub, E., Szczurek, E. (2020). Feature selection strategies for drug sensitivity prediction Scientific Reports 10(1), 9377. https://dx.doi.org/10.1038/s41598-020-65927-9</li>  <li>Garcia-Alonso L, Holland C, Ibrahim M, Turei D, Saez-Rodriguez J (2019). “Benchmark and integration of resources for the estimation of human transcription factor activities.” Genome Research. doi: 10.1101/gr.240663.118.</li>  <li>Schubert M, Klinger B, Klünemann M, Sieber A, Uhlitz F, Sauer S, Garnett MJ, Blüthgen N, Saez-Rodriguez J. “Perturbation-response genes reveal signaling footprints in cancer gene expression.” Nature Communications: 10.1038/s41467-017-02391-6</li></ol><p><br /><br /></p><h1 id=\"5-feature-engineering\">5. Feature Engineering</h1><p><strong>1. Data Integration</strong>   <br />Different public datasets have different gene types. Alternatively, you can use a gene set that you deem valid based on domain knowledge. Strategies other than intersection result in missing value unconditionally. Therefore, the method of imputating the missing value must also be selected.     <br /> In this project, we compared two methods using gene sets judged to be valid through intersection and paper search, and found that the performance of intersection is similar. Therefore, we used an intersection geneset with a small data size. (973 genes.)</p><p><strong>2. Demesional reduction</strong></p><ul>  <li>    <p>Unable to find any studies for manifolds of data between total expression amount + chemical reaction amount. Therefore, Autoencoder was used.</p>  </li>  <li>    <p>Use cosine similarity and pearsons R as the evaluation metric. In a situation where the process of generating genetic data is not guaranteed to be the same, it is difficult to normalize when operating between different dataset. Therefore, Cosine similarity was used as the main and Pearson correlation coefficient was used as an adjunct.</p>  </li>  <li>    <p>VAE vs AE comparison. (see ‘/code_clean/st_04_mapping_drug_378norm_ctrp_auto_encoder/’)</p>  </li></ul><p align=\"center\">    <img width=\"600\" src=\"./img/vae_ae.png\" alt=\"Material Bread logo\" /></p><p><br /></p><p><strong>Why perform demesional reduction and use cosine similarity for AE?</strong>  <br />-&gt; I found that the genomic data we use is biased by sequencing machines and processes in training machine learning models. This was previously based on cancer tumor classification tests and genomic data.  <br /><br />These differences mainly occur in relative expression amounts, and it was experimentally found that the types of genes expressed are generally consistent.  <br /><br />This is why I used AE and cosine similarity as an evaluation metric.</p><p><br /></p><p><strong>Why not UMAP(Uniform Manifold Approximation and Projection)?</strong><br /> -&gt; In the case of UMAP, it is necessary to design a quality evaluation method of the pre-distance metric, search for the optimal metric, and optimize the projection parameters. And since the model description is not necessary for this competition, it was not used for the sake of time.</p><p><br /></p><p><strong>Why not linear dimensionality reduction (like PCA, NMF)?</strong>  <br /> -&gt; Because the data is high-dimensional and sparse, the linear method does not fit.</p><p><br /></p><p><strong>3. DNN encoder feature</strong>    <br />-&gt; It is a method determined in the engineering process to create optimal features.  <br /><br />Experimentally tried several feature engineering and applied them because we achieved the best CV-score.</p>",
            "url": "http://0.0.0.0:4001/2020/06/01/ctd-squared-pancancer-chemosensitivity-dream-challenge",
            
            
            
            
            
            "date_published": "2020-06-01T00:00:00+09:00",
            "date_modified": "2020-06-01T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2020/04/01/ctd-squared-pancancer-drug-activity-dream-challenge",
            "title": "CTD-squared Pancancer Drug Activity DREAM Challenge",
            "summary": null,
            "content_text": "",
            "content_html": "",
            "url": "http://0.0.0.0:4001/2020/04/01/ctd-squared-pancancer-drug-activity-dream-challenge",
            
            
            
            
            
            "date_published": "2020-04-01T00:00:00+09:00",
            "date_modified": "2020-04-01T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2019/12/24/methods-for-providing-information-about-responses-to-cancer-immunotherapy-and-devices-using-the-same-kr",
            "title": "Methods for providing information about responses to cancer immunotherapy and devices using the same",
            "summary": null,
            "content_text": "Info  10-2021-0081547  Filed Dec 24, 2019아래의 링크로 확인하세요.postpaper",
            "content_html": "<h2 id=\"info\">Info</h2><ul>  <li>10-2021-0081547</li>  <li>Filed Dec 24, 2019</li></ul><p><strong><em>아래의 링크로 확인하세요.</em></strong></p><p><a href=\"'../../../__posts/2022-6-01-Clinical%20decision%20support%20algorithm%20to%20anti%E2%80%93pd-1%20therapy.md'\">post</a><br /><a href=\"https://www.ejcancer.com/article/S0959-8049(21)00328-2/fulltext#%20\">paper</a></p><p><br /><img src=\"'../../../assets/publication_patents/patent_pdl1/patent_pdl1_front.png'\" alt=\"front\" /></p>",
            "url": "http://0.0.0.0:4001/2019/12/24/methods-for-providing-information-about-responses-to-cancer-immunotherapy-and-devices-using-the-same-kr",
            
            
            
            
            
            "date_published": "2019-12-24T00:00:00+09:00",
            "date_modified": "2019-12-24T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2019/12/24/methods-for-providing-information-about-responses-to-cancer-immunotherapy-and-devices-using-the-same",
            "title": "Methods for providing information about responses to cancer immunotherapy and devices using the same",
            "summary": null,
            "content_text": "Info  10-2021-0081547  Filed Dec 24, 2019Please refer to the following linkPostPaperPatent Cover",
            "content_html": "<h2 id=\"info\">Info</h2><ul>  <li>10-2021-0081547</li>  <li>Filed Dec 24, 2019</li></ul><p><br /></p><p><strong><em>Please refer to the following link</em></strong><a href=\"/__posts/2022-6-01-Clinical decision support algorithm to anti–pd-1 therapy.md\">Post</a><br /><a href=\"https://www.ejcancer.com/article/S0959-8049(21)00328-2/fulltext#%20\">Paper</a></p><p><br /></p><h3 id=\"patent-cover\">Patent Cover</h3><p><img src=\"/assets/patent_pd/patent_pdl1_front.png\" alt=\"score\" /></p>",
            "url": "http://0.0.0.0:4001/2019/12/24/methods-for-providing-information-about-responses-to-cancer-immunotherapy-and-devices-using-the-same",
            
            
            
            
            
            "date_published": "2019-12-24T00:00:00+09:00",
            "date_modified": "2019-12-24T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2019/12/01/gimhae-fire-prediction-competition",
            "title": "Gimhae Fire Prediction Competition",
            "summary": null,
            "content_text": "please go to below link for code and detail explain.Code and data available.go to repository01 EDA and Basic Feature engineeringsee jupyter notebook : 01 EDA and Basic Feature engineering    Basic feature preprocessing using EDA and domain knowledgeFirst, you need to check whether the data treated as NaN are missing or sparse.Then, the type of data is checked, and pre-processing and feature engineering are performed accordingly.Find answers to the questions below here.   A. Missing or Sparse?  B. What type of Missing or Sparse?  C. If values type is missing, is there any meaning of missing?02 Experimental Feature engineeringsee jupyter notebook : 02 Experimental Feature engineering   Feature engineering based on Cross Validation score and Test score.Base on Cross Validation Score01 convert missing value to min value : 강수량 prcpttn ()  In the feature of precipitation, NaN is judged to be unmeasurable because there is no precipitation. change to minimum value 002 Fill features of categorical and binary type with the most frequent values  Due to the time relationship, the imputation model is not trained separately, and is processed as the most frequent value03 Numeric type feature missing value handling  Processing based on domain knowledgeto zerottl_grnd_flr : Sum of above-ground floors of buildings    ttl_dwn_fr : Sum of basement floors of buildingsfill with mean valueSince the following features have a low null_ratio, better results can be obtained by imputation by creating k-mean or a separate prediction model.  As a matter of time, after imputation as an average, trials of other methods were followed.tmprtr : temperature (c)wnd_spd : wind speedwnd_drctn : wind directionhmdt : humidityhm_cnt : Administrative district Populationbldng_ar : Building areafr_mn_cnt : Personnel of the fire department in charge04 Target encoding with smoothing  Experimentation with valid encoding methods          target encoding      target encoding + smoothing      target encoding + noise (0.1)      target encoding + noise (0.4)      target encoding + smoothing + noise (0.1)      target encoding + smoothing + noise (0.4)      05 Electrocity and Gas usage  When looking at the data distribution, there are samples with no usage.  Assuming that this would be an empty house or an unmanaged building, I created the feature as shown below.  In the case of a building without electricity, it is assumed that the risk of fire will be high due to lack of management.  Fire has nothing to do with usage, so it is expressed in binaryele_engry_us : Electricity usage for a specific period  gas_engry_us : Gas usage for a specific period1 -&gt; A house that is being used or inhabited  0 -&gt; A building that is obsolete.In 01_EDA_Missing_Value.ipynb, check that min value = 0 of electricity and gas consumption data.fr_mn_cnt: Number of fire department personnelThe number of fire department personnel in the jurisdiction is limited to a set  Assume that fire department personnel are assigned according to the size of the area and the frequency of fire occurrence.  Set Binary to 1 if more than 100, 0 if less than 100Based on test scoreMultiple encoding testssee jupyter notebook : experiment result Lightgbm  see jupyter notebook : experiment result Xgboostwnd_drctn (0.08 score up)    Assuming that the wind direction is different for each season, there is a possibility of fire depending on the direction of the season  Data categorization into 4 types according to wind direction  Apply binning to wind direction (wnd_drctn)bin_hour : created feature (0.03 score up)    Assume that it will be difficult to report a fire at dawn.  As a result of the check, according to the statistics of Seoul, there is a difference in the occurrence of fires according to time zones.  Similarly, Gimhae Fire &amp; Marine Insurance determined that there was a difference in the frequency of fire occurrence by time period, and categorized data by time period.03 Data distribution control  Check the distribution of Train / Validation / Test data. Control the distribution similarly to the actual test data to be used.      What is unusual about this competition is that validation data was given. Therefore, it was assumed that at least the validation data would have a similar distribution to the test data, but the difference and correlation between the CV score and the LB score could not be derived, so the work was performed assuming that the distribution would be different.    Adverserial validation 및 UMAP dimension reduction visualization 으로 확인          see jupyter notebook : Adverserial Validation      see jupyter notebook : UMAP dimension reduction visualization      04 Sampling  The following sampling strategies were used to control for differences in data distribution.1. A dimensionally reduced, low-dimensional vector that samples only samples that are close to the test sample.  euclidean distanceThe black dot is the test data. Model training proceeds by removing samples that are far from the black point distance and sampling only samples that are close to the black point.The criterion of closeness was experimentally determined.2. Picking with Predicted Probabilities  Create a train or not, validation or not, test or not classification model and extract train and validation samples that are indistinguishable from test.  Probability distribution of predicted values for test data or not.  Even though it is test data, there are also samples that are not test data. At this time, select training and validation samples that are predicted with a similar probability to the test data. (mainly between 0.05 and 0.15)  Conversely, samples predicted as test data are also selected even though they are not test data. (mainly between 0.8 and 1.0)",
            "content_html": "<p>please go to below link for code and detail explain.Code and data available.<a href=\"[/assets/2020/01_23/canberra.png](https://github.com/jaewoo-so/gimhae_fire_prediction)\">go to repository</a></p><h1 id=\"01-eda-and-basic-feature-engineering\">01 EDA and Basic Feature engineering</h1><hr /><p><a href=\"https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/01_EDA_Missing_Value_Basic_Processing.ipynb\">see jupyter notebook : 01 EDA and Basic Feature engineering  </a></p><ul>  <li>Basic feature preprocessing using EDA and domain knowledge</li></ul><p>First, you need to check whether the data treated as NaN are missing or sparse.Then, the type of data is checked, and pre-processing and feature engineering are performed accordingly.</p><p>Find answers to the questions below here.   <br />A. Missing or Sparse?  <br />B. What type of Missing or Sparse?  <br />C. If values type is missing, is there any meaning of missing?</p><h1 id=\"02-experimental-feature-engineering\">02 Experimental Feature engineering</h1><p><a href=\"https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/01_EDA_Missing_Value_Basic_Processing.ipynb\">see jupyter notebook : 02 Experimental Feature engineering </a></p><ul>  <li>Feature engineering based on Cross Validation score and Test score.</li></ul><h2 id=\"base-on-cross-validation-score\">Base on Cross Validation Score</h2><h3 id=\"01-convert-missing-value-to-min-value--강수량-prcpttn-\">01 convert missing value to min value : 강수량 prcpttn ()</h3><ul>  <li>In the feature of precipitation, NaN is judged to be unmeasurable because there is no precipitation. change to minimum value 0</li></ul><h3 id=\"02-fill-features-of-categorical-and-binary-type-with-the-most-frequent-values\">02 Fill features of categorical and binary type with the most frequent values</h3><ul>  <li>Due to the time relationship, the imputation model is not trained separately, and is processed as the most frequent value</li></ul><h3 id=\"03-numeric-type-feature-missing-value-handling\">03 Numeric type feature missing value handling</h3><ul>  <li>Processing based on domain knowledge</li></ul><p><strong>to zero</strong>ttl_grnd_flr : Sum of above-ground floors of buildings    <br />ttl_dwn_fr : Sum of basement floors of buildings</p><p><strong>fill with mean value</strong>Since the following features have a low null_ratio, better results can be obtained by imputation by creating k-mean or a separate prediction model.  <br />As a matter of time, after imputation as an average, trials of other methods were followed.</p><p>tmprtr : temperature (c)wnd_spd : wind speedwnd_drctn : wind directionhmdt : humidityhm_cnt : Administrative district Populationbldng_ar : Building areafr_mn_cnt : Personnel of the fire department in charge</p><h3 id=\"04-target-encoding-with-smoothing\">04 Target encoding with smoothing</h3><ul>  <li>Experimentation with valid encoding methods    <ol>      <li>target encoding</li>      <li>target encoding + smoothing</li>      <li>target encoding + noise (0.1)</li>      <li>target encoding + noise (0.4)</li>      <li>target encoding + smoothing + noise (0.1)</li>      <li>target encoding + smoothing + noise (0.4)</li>    </ol>  </li></ul><h3 id=\"05-electrocity-and-gas-usage\">05 Electrocity and Gas usage</h3><ul>  <li>When looking at the data distribution, there are samples with no usage.</li>  <li>Assuming that this would be an empty house or an unmanaged building, I created the feature as shown below.</li>  <li>In the case of a building without electricity, it is assumed that the risk of fire will be high due to lack of management.</li>  <li>Fire has nothing to do with usage, so it is expressed in binary</li></ul><p>ele_engry_us : Electricity usage for a specific period  <br />gas_engry_us : Gas usage for a specific period</p><p>1 -&gt; A house that is being used or inhabited  <br />0 -&gt; A building that is obsolete.</p><p>In 01_EDA_Missing_Value.ipynb, check that min value = 0 of electricity and gas consumption data.</p><h3 id=\"fr_mn_cnt-number-of-fire-department-personnel\">fr_mn_cnt: Number of fire department personnel</h3><p>The number of fire department personnel in the jurisdiction is limited to a set  <br />Assume that fire department personnel are assigned according to the size of the area and the frequency of fire occurrence.  <br />Set Binary to 1 if more than 100, 0 if less than 100</p><h2 id=\"based-on-test-score\">Based on test score</h2><h3 id=\"multiple-encoding-tests\">Multiple encoding tests</h3><p><a href=\"https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_exp/sojaewoo/data_1111_version/code_v07/001_1_encoding_evaluation_lgb.ipynb\">see jupyter notebook : experiment result Lightgbm</a>  <br /><a href=\"https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_exp/sojaewoo/data_1111_version/code_v07/001_1_encoding_evaluation_xgb.ipynb\">see jupyter notebook : experiment result Xgboost</a></p><h3 id=\"wnd_drctn-008-score-up\">wnd_drctn (0.08 score up)</h3><p align=\"center\">  <img src=\"https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/resource_data/wind.png\" /></p><ul>  <li>Assuming that the wind direction is different for each season, there is a possibility of fire depending on the direction of the season</li>  <li>Data categorization into 4 types according to wind direction</li>  <li>Apply binning to wind direction (wnd_drctn)</li></ul><h2 id=\"bin_hour--created-feature-003-score-up\">bin_hour : created feature (0.03 score up)</h2><p align=\"center\">  <img src=\"https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/resource_data/fire.png\" /></p><ul>  <li>Assume that it will be difficult to report a fire at dawn.</li>  <li>As a result of the check, according to the statistics of Seoul, there is a difference in the occurrence of fires according to time zones.</li>  <li>Similarly, Gimhae Fire &amp; Marine Insurance determined that there was a difference in the frequency of fire occurrence by time period, and categorized data by time period.</li></ul><h1 id=\"03-data-distribution-control\">03 Data distribution control</h1><ul>  <li>Check the distribution of Train / Validation / Test data. Control the distribution similarly to the actual test data to be used.</li>  <li>    <p>What is unusual about this competition is that validation data was given. Therefore, it was assumed that at least the validation data would have a similar distribution to the test data, but the difference and correlation between the CV score and the LB score could not be derived, so the work was performed assuming that the distribution would be different.</p>  </li>  <li>Adverserial validation 및 UMAP dimension reduction visualization 으로 확인    <ul>      <li><a href=\"https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/etc_experiment/adverserial_validation/#01_adverserial_test_v11.ipynb\">see jupyter notebook : Adverserial Validation</a></li>      <li><a href=\"https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/etc_experiment/umap_dimentional_reduction/01_datav04_Apply_umap_test.ipynb\">see jupyter notebook : UMAP dimension reduction visualization</a></li>    </ul>  </li></ul><h1 id=\"04-sampling\">04 Sampling</h1><ul>  <li>The following sampling strategies were used to control for differences in data distribution.</li></ul><h2 id=\"1-a-dimensionally-reduced-low-dimensional-vector-that-samples-only-samples-that-are-close-to-the-test-sample\">1. A dimensionally reduced, low-dimensional vector that samples only samples that are close to the test sample.</h2><p align=\"center\">  <img src=\"https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/resource_data/euclidian.png\" /></p><p>euclidean distance</p><p>The black dot is the test data. Model training proceeds by removing samples that are far from the black point distance and sampling only samples that are close to the black point.The criterion of closeness was experimentally determined.</p><h2 id=\"2-picking-with-predicted-probabilities\">2. Picking with Predicted Probabilities</h2><ul>  <li>Create a train or not, validation or not, test or not classification model and extract train and validation samples that are indistinguishable from test.</li></ul><p align=\"center\">  <img src=\"https://github.com/jaewoo-so/gimhae_fire_prediction/blob/master/code_final/resource_data/te.png\" /></p><p>Probability distribution of predicted values for test data or not.  <br />Even though it is test data, there are also samples that are not test data. At this time, select training and validation samples that are predicted with a similar probability to the test data. (mainly between 0.05 and 0.15)  <br />Conversely, samples predicted as test data are also selected even though they are not test data. (mainly between 0.8 and 1.0)</p>",
            "url": "http://0.0.0.0:4001/2019/12/01/gimhae-fire-prediction-competition",
            
            
            
            
            
            "date_published": "2019-12-01T00:00:00+09:00",
            "date_modified": "2019-12-01T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        },
    
        {
            "id": "http://0.0.0.0:4001/2015/03/01/swarm-reinforcement-learning-algorithm-with-characterized-agents",
            "title": "Swarm Reinforcement Learning Algorithm with Characterized Agents",
            "summary": null,
            "content_text": "  에이전트 병렬 학습 최적화  model free",
            "content_html": "<ul>  <li>에이전트 병렬 학습 최적화</li>  <li>model free</li></ul><p><img src=\"/assets/2020/01_23/canberra.png\" alt=\"adasdasdasd\" /></p>",
            "url": "http://0.0.0.0:4001/2015/03/01/swarm-reinforcement-learning-algorithm-with-characterized-agents",
            
            
            
            
            
            "date_published": "2015-03-01T00:00:00+09:00",
            "date_modified": "2015-03-01T00:00:00+09:00",
            
                "author": 
                "{"twitter"=>nil, "name"=>nil, "avatar"=>nil, "email"=>nil, "url"=>nil}"
                
            
        }
    
    ]
}